"use strict";var zi=Object.create;var be=Object.defineProperty;var Mi=Object.getOwnPropertyDescriptor;var Ii=Object.getOwnPropertyNames;var Di=Object.getPrototypeOf,Ti=Object.prototype.hasOwnProperty;var ue=(n,e)=>()=>(n&&(e=n(n=0)),e);var W=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),ht=(n,e)=>{for(var t in e)be(n,t,{get:e[t],enumerable:!0})},vt=(n,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of Ii(e))!Ti.call(n,a)&&a!==t&&be(n,a,{get:()=>e[a],enumerable:!(i=Mi(e,a))||i.enumerable});return n};var oe=(n,e,t)=>(t=n!=null?zi(Di(n)):{},vt(e||!n||!n.__esModule?be(t,"default",{value:n,enumerable:!0}):t,n)),Ai=n=>vt(be({},"__esModule",{value:!0}),n);var xt=W((_e,gt)=>{(function(n,e){typeof _e=="object"&&typeof gt<"u"?e(_e):typeof define=="function"&&define.amd?define(["exports"],e):(n=typeof globalThis<"u"?globalThis:n||self,e(n.Comlink={}))})(_e,function(n){"use strict";let e=Symbol("Comlink.proxy"),t=Symbol("Comlink.endpoint"),i=Symbol("Comlink.releaseProxy"),a=Symbol("Comlink.finalizer"),o=Symbol("Comlink.thrown"),r=h=>typeof h=="object"&&h!==null||typeof h=="function",l={canHandle:h=>r(h)&&h[e],serialize(h){let{port1:k,port2:z}=new MessageChannel;return s(h,k),[z,[z]]},deserialize(h){return h.start(),O(h)}},g={canHandle:h=>r(h)&&o in h,serialize({value:h}){let k;return h instanceof Error?k={isError:!0,value:{message:h.message,name:h.name,stack:h.stack}}:k={isError:!1,value:h},[k,[]]},deserialize(h){throw h.isError?Object.assign(new Error(h.value.message),h.value):h.value}},f=new Map([["proxy",l],["throw",g]]);function d(h,k){for(let z of h)if(k===z||z==="*"||z instanceof RegExp&&z.test(k))return!0;return!1}function s(h,k=globalThis,z=["*"]){k.addEventListener("message",function T(D){if(!D||!D.data)return;if(!d(z,D.origin)){console.warn(`Invalid origin '${D.origin}' for comlink proxy`);return}let{id:q,type:U,path:B}=Object.assign({path:[]},D.data),V=(D.data.argumentList||[]).map(b),Z;try{let G=B.slice(0,-1).reduce((ee,me)=>ee[me],h),ne=B.reduce((ee,me)=>ee[me],h);switch(U){case"GET":Z=ne;break;case"SET":G[B.slice(-1)[0]]=b(D.data.value),Z=!0;break;case"APPLY":Z=ne.apply(G,V);break;case"CONSTRUCT":{let ee=new ne(...V);Z=u(ee)}break;case"ENDPOINT":{let{port1:ee,port2:me}=new MessageChannel;s(h,me),Z=M(ee,[ee])}break;case"RELEASE":Z=void 0;break;default:return}}catch(G){Z={value:G,[o]:0}}Promise.resolve(Z).catch(G=>({value:G,[o]:0})).then(G=>{let[ne,ee]=y(G);k.postMessage(Object.assign(Object.assign({},ne),{id:q}),ee),U==="RELEASE"&&(k.removeEventListener("message",T),P(k),a in h&&typeof h[a]=="function"&&h[a]())}).catch(G=>{let[ne,ee]=y({value:new TypeError("Unserializable return value"),[o]:0});k.postMessage(Object.assign(Object.assign({},ne),{id:q}),ee)})}),k.start&&k.start()}function v(h){return h.constructor.name==="MessagePort"}function P(h){v(h)&&h.close()}function O(h,k){return F(h,[],k)}function C(h){if(h)throw new Error("Proxy has been released and is not useable")}function J(h){return I(h,{type:"RELEASE"}).then(()=>{P(h)})}let N=new WeakMap,L="FinalizationRegistry"in globalThis&&new FinalizationRegistry(h=>{let k=(N.get(h)||0)-1;N.set(h,k),k===0&&J(h)});function H(h,k){let z=(N.get(k)||0)+1;N.set(k,z),L&&L.register(h,k,h)}function E(h){L&&L.unregister(h)}function F(h,k=[],z=function(){}){let T=!1,D=new Proxy(z,{get(q,U){if(C(T),U===i)return()=>{E(D),J(h),T=!0};if(U==="then"){if(k.length===0)return{then:()=>D};let B=I(h,{type:"GET",path:k.map(V=>V.toString())}).then(b);return B.then.bind(B)}return F(h,[...k,U])},set(q,U,B){C(T);let[V,Z]=y(B);return I(h,{type:"SET",path:[...k,U].map(G=>G.toString()),value:V},Z).then(b)},apply(q,U,B){C(T);let V=k[k.length-1];if(V===t)return I(h,{type:"ENDPOINT"}).then(b);if(V==="bind")return F(h,k.slice(0,-1));let[Z,G]=A(B);return I(h,{type:"APPLY",path:k.map(ne=>ne.toString()),argumentList:Z},G).then(b)},construct(q,U){C(T);let[B,V]=A(U);return I(h,{type:"CONSTRUCT",path:k.map(Z=>Z.toString()),argumentList:B},V).then(b)}});return H(D,h),D}function X(h){return Array.prototype.concat.apply([],h)}function A(h){let k=h.map(y);return[k.map(z=>z[0]),X(k.map(z=>z[1]))]}let R=new WeakMap;function M(h,k){return R.set(h,k),h}function u(h){return Object.assign(h,{[e]:!0})}function x(h,k=globalThis,z="*"){return{postMessage:(T,D)=>h.postMessage(T,z,D),addEventListener:k.addEventListener.bind(k),removeEventListener:k.removeEventListener.bind(k)}}function y(h){for(let[k,z]of f)if(z.canHandle(h)){let[T,D]=z.serialize(h);return[{type:"HANDLER",name:k,value:T},D]}return[{type:"RAW",value:h},R.get(h)||[]]}function b(h){switch(h.type){case"HANDLER":return f.get(h.name).deserialize(h.value);case"RAW":return h.value}}function I(h,k,z){return new Promise(T=>{let D=K();h.addEventListener("message",function q(U){!U.data||!U.data.id||U.data.id!==D||(h.removeEventListener("message",q),T(U.data))}),h.start&&h.start(),h.postMessage(Object.assign({id:D},k),z)})}function K(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}n.createEndpoint=t,n.expose=s,n.finalizer=a,n.proxy=u,n.proxyMarker=e,n.releaseProxy=i,n.transfer=M,n.transferHandlers=f,n.windowEndpoint=x,n.wrap=O})});var He=W((ke,yt)=>{(function(n,e){typeof ke=="object"&&typeof yt<"u"?e(ke):typeof define=="function"&&define.amd?define(["exports"],e):(n=typeof globalThis<"u"?globalThis:n||self,e(n.lumino_algorithm={}))})(ke,function(n){"use strict";n.ArrayExt=void 0,function(u){function x(w,_,p=0,c=-1){let m=w.length;if(m===0)return-1;p<0?p=Math.max(0,p+m):p=Math.min(p,m-1),c<0?c=Math.max(0,c+m):c=Math.min(c,m-1);let S;c<p?S=c+1+(m-p):S=c-p+1;for(let j=0;j<S;++j){let $=(p+j)%m;if(w[$]===_)return $}return-1}u.firstIndexOf=x;function y(w,_,p=-1,c=0){let m=w.length;if(m===0)return-1;p<0?p=Math.max(0,p+m):p=Math.min(p,m-1),c<0?c=Math.max(0,c+m):c=Math.min(c,m-1);let S;p<c?S=p+1+(m-c):S=p-c+1;for(let j=0;j<S;++j){let $=(p-j+m)%m;if(w[$]===_)return $}return-1}u.lastIndexOf=y;function b(w,_,p=0,c=-1){let m=w.length;if(m===0)return-1;p<0?p=Math.max(0,p+m):p=Math.min(p,m-1),c<0?c=Math.max(0,c+m):c=Math.min(c,m-1);let S;c<p?S=c+1+(m-p):S=c-p+1;for(let j=0;j<S;++j){let $=(p+j)%m;if(_(w[$],$))return $}return-1}u.findFirstIndex=b;function I(w,_,p=-1,c=0){let m=w.length;if(m===0)return-1;p<0?p=Math.max(0,p+m):p=Math.min(p,m-1),c<0?c=Math.max(0,c+m):c=Math.min(c,m-1);let S;p<c?S=p+1+(m-c):S=p-c+1;for(let j=0;j<S;++j){let $=(p-j+m)%m;if(_(w[$],$))return $}return-1}u.findLastIndex=I;function K(w,_,p=0,c=-1){let m=b(w,_,p,c);return m!==-1?w[m]:void 0}u.findFirstValue=K;function h(w,_,p=-1,c=0){let m=I(w,_,p,c);return m!==-1?w[m]:void 0}u.findLastValue=h;function k(w,_,p,c=0,m=-1){let S=w.length;if(S===0)return 0;c<0?c=Math.max(0,c+S):c=Math.min(c,S-1),m<0?m=Math.max(0,m+S):m=Math.min(m,S-1);let j=c,$=m-c+1;for(;$>0;){let ie=$>>1,ge=j+ie;p(w[ge],_)<0?(j=ge+1,$-=ie+1):$=ie}return j}u.lowerBound=k;function z(w,_,p,c=0,m=-1){let S=w.length;if(S===0)return 0;c<0?c=Math.max(0,c+S):c=Math.min(c,S-1),m<0?m=Math.max(0,m+S):m=Math.min(m,S-1);let j=c,$=m-c+1;for(;$>0;){let ie=$>>1,ge=j+ie;p(w[ge],_)>0?$=ie:(j=ge+1,$-=ie+1)}return j}u.upperBound=z;function T(w,_,p){if(w===_)return!0;if(w.length!==_.length)return!1;for(let c=0,m=w.length;c<m;++c)if(p?!p(w[c],_[c]):w[c]!==_[c])return!1;return!0}u.shallowEqual=T;function D(w,_={}){let{start:p,stop:c,step:m}=_;if(m===void 0&&(m=1),m===0)throw new Error("Slice `step` cannot be zero.");let S=w.length;p===void 0?p=m<0?S-1:0:p<0?p=Math.max(p+S,m<0?-1:0):p>=S&&(p=m<0?S-1:S),c===void 0?c=m<0?-1:S:c<0?c=Math.max(c+S,m<0?-1:0):c>=S&&(c=m<0?S-1:S);let j;m<0&&c>=p||m>0&&p>=c?j=0:m<0?j=Math.floor((c-p+1)/m+1):j=Math.floor((c-p-1)/m+1);let $=[];for(let ie=0;ie<j;++ie)$[ie]=w[p+ie*m];return $}u.slice=D;function q(w,_,p){let c=w.length;if(c<=1||(_<0?_=Math.max(0,_+c):_=Math.min(_,c-1),p<0?p=Math.max(0,p+c):p=Math.min(p,c-1),_===p))return;let m=w[_],S=_<p?1:-1;for(let j=_;j!==p;j+=S)w[j]=w[j+S];w[p]=m}u.move=q;function U(w,_=0,p=-1){let c=w.length;if(!(c<=1))for(_<0?_=Math.max(0,_+c):_=Math.min(_,c-1),p<0?p=Math.max(0,p+c):p=Math.min(p,c-1);_<p;){let m=w[_],S=w[p];w[_++]=S,w[p--]=m}}u.reverse=U;function B(w,_,p=0,c=-1){let m=w.length;if(m<=1||(p<0?p=Math.max(0,p+m):p=Math.min(p,m-1),c<0?c=Math.max(0,c+m):c=Math.min(c,m-1),p>=c))return;let S=c-p+1;if(_>0?_=_%S:_<0&&(_=(_%S+S)%S),_===0)return;let j=p+_;U(w,p,j-1),U(w,j,c),U(w,p,c)}u.rotate=B;function V(w,_,p=0,c=-1){let m=w.length;if(m===0)return;p<0?p=Math.max(0,p+m):p=Math.min(p,m-1),c<0?c=Math.max(0,c+m):c=Math.min(c,m-1);let S;c<p?S=c+1+(m-p):S=c-p+1;for(let j=0;j<S;++j)w[(p+j)%m]=_}u.fill=V;function Z(w,_,p){let c=w.length;_<0?_=Math.max(0,_+c):_=Math.min(_,c);for(let m=c;m>_;--m)w[m]=w[m-1];w[_]=p}u.insert=Z;function G(w,_){let p=w.length;if(_<0&&(_+=p),_<0||_>=p)return;let c=w[_];for(let m=_+1;m<p;++m)w[m-1]=w[m];return w.length=p-1,c}u.removeAt=G;function ne(w,_,p=0,c=-1){let m=x(w,_,p,c);return m!==-1&&G(w,m),m}u.removeFirstOf=ne;function ee(w,_,p=-1,c=0){let m=y(w,_,p,c);return m!==-1&&G(w,m),m}u.removeLastOf=ee;function me(w,_,p=0,c=-1){let m=w.length;if(m===0)return 0;p<0?p=Math.max(0,p+m):p=Math.min(p,m-1),c<0?c=Math.max(0,c+m):c=Math.min(c,m-1);let S=0;for(let j=0;j<m;++j)p<=c&&j>=p&&j<=c&&w[j]===_||c<p&&(j<=c||j>=p)&&w[j]===_?S++:S>0&&(w[j-S]=w[j]);return S>0&&(w.length=m-S),S}u.removeAllOf=me;function Ei(w,_,p=0,c=-1){let m,S=b(w,_,p,c);return S!==-1&&(m=G(w,S)),{index:S,value:m}}u.removeFirstWhere=Ei;function Ci(w,_,p=-1,c=0){let m,S=I(w,_,p,c);return S!==-1&&(m=G(w,S)),{index:S,value:m}}u.removeLastWhere=Ci;function Ri(w,_,p=0,c=-1){let m=w.length;if(m===0)return 0;p<0?p=Math.max(0,p+m):p=Math.min(p,m-1),c<0?c=Math.max(0,c+m):c=Math.min(c,m-1);let S=0;for(let j=0;j<m;++j)p<=c&&j>=p&&j<=c&&_(w[j],j)||c<p&&(j<=c||j>=p)&&_(w[j],j)?S++:S>0&&(w[j-S]=w[j]);return S>0&&(w.length=m-S),S}u.removeAllWhere=Ri}(n.ArrayExt||(n.ArrayExt={}));function*e(...u){for(let x of u)yield*x}function*t(){}function*i(u,x=0){for(let y of u)yield[x++,y]}function*a(u,x){let y=0;for(let b of u)x(b,y++)&&(yield b)}function o(u,x){let y=0;for(let b of u)if(x(b,y++))return b}function r(u,x){let y=0;for(let b of u)if(x(b,y++))return y-1;return-1}function l(u,x){let y;for(let b of u){if(y===void 0){y=b;continue}x(b,y)<0&&(y=b)}return y}function g(u,x){let y;for(let b of u){if(y===void 0){y=b;continue}x(b,y)>0&&(y=b)}return y}function f(u,x){let y=!0,b,I;for(let K of u)y?(b=K,I=K,y=!1):x(K,b)<0?b=K:x(K,I)>0&&(I=K);return y?void 0:[b,I]}function d(u){return Array.from(u)}function s(u){let x={};for(let[y,b]of u)x[y]=b;return x}function v(u,x){let y=0;for(let b of u)if(x(b,y++)===!1)return}function P(u,x){let y=0;for(let b of u)if(x(b,y++)===!1)return!1;return!0}function O(u,x){let y=0;for(let b of u)if(x(b,y++))return!0;return!1}function*C(u,x){let y=0;for(let b of u)yield x(b,y++)}function*J(u,x,y){x===void 0?(x=u,u=0,y=1):y===void 0&&(y=1);let b=N.rangeLength(u,x,y);for(let I=0;I<b;I++)yield u+y*I}var N;(function(u){function x(y,b,I){return I===0?1/0:y>b&&I>0||y<b&&I<0?0:Math.ceil((b-y)/I)}u.rangeLength=x})(N||(N={}));function L(u,x,y){let b=u[Symbol.iterator](),I=0,K=b.next();if(K.done&&y===void 0)throw new TypeError("Reduce of empty iterable with no initial value.");if(K.done)return y;let h=b.next();if(h.done&&y===void 0)return K.value;if(h.done)return x(y,K.value,I++);let k;y===void 0?k=x(K.value,h.value,I++):k=x(x(y,K.value,I++),h.value,I++);let z;for(;!(z=b.next()).done;)k=x(k,z.value,I++);return k}function*H(u,x){for(;0<x--;)yield u}function*E(u){yield u}function*F(u){if(typeof u.retro=="function")yield*u.retro();else for(let x=u.length-1;x>-1;x--)yield u[x]}function X(u){let x=[],y=new Set,b=new Map;for(let h of u)I(h);for(let[h]of b)K(h);return x;function I(h){let[k,z]=h,T=b.get(z);T?T.push(k):b.set(z,[k])}function K(h){if(y.has(h))return;y.add(h);let k=b.get(h);if(k)for(let z of k)K(z);x.push(h)}}function*A(u,x){let y=0;for(let b of u)y++%x===0&&(yield b)}n.StringExt=void 0,function(u){function x(h,k,z=0){let T=new Array(k.length);for(let D=0,q=z,U=k.length;D<U;++D,++q){if(q=h.indexOf(k[D],q),q===-1)return null;T[D]=q}return T}u.findIndices=x;function y(h,k,z=0){let T=x(h,k,z);if(!T)return null;let D=0;for(let q=0,U=T.length;q<U;++q){let B=T[q]-z;D+=B*B}return{score:D,indices:T}}u.matchSumOfSquares=y;function b(h,k,z=0){let T=x(h,k,z);if(!T)return null;let D=0,q=z-1;for(let U=0,B=T.length;U<B;++U){let V=T[U];D+=V-q-1,q=V}return{score:D,indices:T}}u.matchSumOfDeltas=b;function I(h,k,z){let T=[],D=0,q=0,U=k.length;for(;D<U;){let B=k[D],V=k[D];for(;++D<U&&k[D]===V+1;)V++;q<B&&T.push(h.slice(q,B)),B<V+1&&T.push(z(h.slice(B,V+1))),q=V+1}return q<h.length&&T.push(h.slice(q)),T}u.highlight=I;function K(h,k){return h<k?-1:h>k?1:0}u.cmp=K}(n.StringExt||(n.StringExt={}));function*R(u,x){if(x<1)return;let y=u[Symbol.iterator](),b;for(;0<x--&&!(b=y.next()).done;)yield b.value}function*M(...u){let x=u.map(b=>b[Symbol.iterator]()),y=x.map(b=>b.next());for(;P(y,b=>!b.done);y=x.map(b=>b.next()))yield y.map(b=>b.value)}n.chain=e,n.each=v,n.empty=t,n.enumerate=i,n.every=P,n.filter=a,n.find=o,n.findIndex=r,n.map=C,n.max=g,n.min=l,n.minmax=f,n.once=E,n.range=J,n.reduce=L,n.repeat=H,n.retro=F,n.some=O,n.stride=A,n.take=R,n.toArray=d,n.toObject=s,n.topologicSort=X,n.zip=M})});var he=W(Q=>{"use strict";var Ui=He();Q.JSONExt=void 0;(function(n){n.emptyObject=Object.freeze({}),n.emptyArray=Object.freeze([]);function e(d){return d===null||typeof d=="boolean"||typeof d=="number"||typeof d=="string"}n.isPrimitive=e;function t(d){return Array.isArray(d)}n.isArray=t;function i(d){return!e(d)&&!t(d)}n.isObject=i;function a(d,s){if(d===s)return!0;if(e(d)||e(s))return!1;let v=t(d),P=t(s);return v!==P?!1:v&&P?r(d,s):l(d,s)}n.deepEqual=a;function o(d){return e(d)?d:t(d)?g(d):f(d)}n.deepCopy=o;function r(d,s){if(d===s)return!0;if(d.length!==s.length)return!1;for(let v=0,P=d.length;v<P;++v)if(!a(d[v],s[v]))return!1;return!0}function l(d,s){if(d===s)return!0;for(let v in d)if(d[v]!==void 0&&!(v in s))return!1;for(let v in s)if(s[v]!==void 0&&!(v in d))return!1;for(let v in d){let P=d[v],O=s[v];if(!(P===void 0&&O===void 0)&&(P===void 0||O===void 0||!a(P,O)))return!1}return!0}function g(d){let s=new Array(d.length);for(let v=0,P=d.length;v<P;++v)s[v]=o(d[v]);return s}function f(d){let s={};for(let v in d){let P=d[v];P!==void 0&&(s[v]=o(P))}return s}})(Q.JSONExt||(Q.JSONExt={}));var Ke=class{constructor(){this._types=[],this._values=[]}types(){return this._types.slice()}hasData(e){return this._types.indexOf(e)!==-1}getData(e){let t=this._types.indexOf(e);return t!==-1?this._values[t]:void 0}setData(e,t){this.clearData(e),this._types.push(e),this._values.push(t)}clearData(e){let t=this._types.indexOf(e);t!==-1&&(this._types.splice(t,1),this._values.splice(t,1))}clear(){this._types.length=0,this._values.length=0}},Ve=class{constructor(e={}){this._application=null,this._validatePlugin=()=>!0,this._plugins=new Map,this._services=new Map,e.validatePlugin&&(console.info("Plugins may be rejected by the custom validation plugin method."),this._validatePlugin=e.validatePlugin)}get application(){return this._application}set application(e){if(this._application!==null)throw Error("PluginRegistry.application is already set. It cannot be overridden.");this._application=e}get deferredPlugins(){return Array.from(this._plugins).filter(([e,t])=>t.autoStart==="defer").map(([e,t])=>e)}getPluginDescription(e){var t,i;return(i=(t=this._plugins.get(e))===null||t===void 0?void 0:t.description)!==null&&i!==void 0?i:""}hasPlugin(e){return this._plugins.has(e)}isPluginActivated(e){var t,i;return(i=(t=this._plugins.get(e))===null||t===void 0?void 0:t.activated)!==null&&i!==void 0?i:!1}listPlugins(){return Array.from(this._plugins.keys())}registerPlugin(e){if(this._plugins.has(e.id))throw new TypeError(`Plugin '${e.id}' is already registered.`);if(!this._validatePlugin(e))throw new Error(`Plugin '${e.id}' is not valid.`);let t=fe.createPluginData(e);fe.ensureNoCycle(t,this._plugins,this._services),t.provides&&this._services.set(t.provides,t.id),this._plugins.set(t.id,t)}registerPlugins(e){for(let t of e)this.registerPlugin(t)}deregisterPlugin(e,t){let i=this._plugins.get(e);if(i){if(i.activated&&!t)throw new Error(`Plugin '${e}' is still active.`);this._plugins.delete(e)}}async activatePlugin(e){let t=this._plugins.get(e);if(!t)throw new ReferenceError(`Plugin '${e}' is not registered.`);if(t.activated)return;if(t.promise)return t.promise;let i=t.requires.map(o=>this.resolveRequiredService(o)),a=t.optional.map(o=>this.resolveOptionalService(o));return t.promise=Promise.all([...i,...a]).then(o=>t.activate.apply(void 0,[this.application,...o])).then(o=>{t.service=o,t.activated=!0,t.promise=null}).catch(o=>{throw t.promise=null,o}),t.promise}async activatePlugins(e,t={}){switch(e){case"defer":{let i=this.deferredPlugins.filter(a=>this._plugins.get(a).autoStart).map(a=>this.activatePlugin(a));await Promise.all(i);break}case"startUp":{let a=fe.collectStartupPlugins(this._plugins,t).map(async o=>{try{return await this.activatePlugin(o)}catch(r){console.error(`Plugin '${o}' failed to activate.`,r)}});await Promise.all(a);break}}}async deactivatePlugin(e){let t=this._plugins.get(e);if(!t)throw new ReferenceError(`Plugin '${e}' is not registered.`);if(!t.activated)return[];if(!t.deactivate)throw new TypeError(`Plugin '${e}'#deactivate() method missing`);let i=fe.findDependents(e,this._plugins,this._services),a=i.map(o=>this._plugins.get(o));for(let o of a)if(!o.deactivate)throw new TypeError(`Plugin ${o.id}#deactivate() method missing (depends on ${e})`);for(let o of a){let r=[...o.requires,...o.optional].map(l=>{let g=this._services.get(l);return g?this._plugins.get(g).service:null});await o.deactivate(this.application,...r),o.service=null,o.activated=!1}return i.pop(),i}async resolveRequiredService(e){let t=this._services.get(e);if(!t)throw new TypeError(`No provider for: ${e.name}.`);let i=this._plugins.get(t);return i.activated||await this.activatePlugin(t),i.service}async resolveOptionalService(e){let t=this._services.get(e);if(!t)return null;let i=this._plugins.get(t);if(!i.activated)try{await this.activatePlugin(t)}catch(a){return console.error(a),null}return i.service}},fe;(function(n){class e{constructor(l){var g,f,d,s;this._activated=!1,this._promise=null,this._service=null,this.id=l.id,this.description=(g=l.description)!==null&&g!==void 0?g:"",this.activate=l.activate,this.deactivate=(f=l.deactivate)!==null&&f!==void 0?f:null,this.provides=(d=l.provides)!==null&&d!==void 0?d:null,this.autoStart=(s=l.autoStart)!==null&&s!==void 0?s:!1,this.requires=l.requires?l.requires.slice():[],this.optional=l.optional?l.optional.slice():[]}get activated(){return this._activated}set activated(l){this._activated=l}get service(){return this._service}set service(l){this._service=l}get promise(){return this._promise}set promise(l){this._promise=l}}function t(r){return new e(r)}n.createPluginData=t;function i(r,l,g){let f=[...r.requires,...r.optional],d=v=>{if(v===r.provides)return!0;let P=g.get(v);if(!P)return!1;let O=l.get(P),C=[...O.requires,...O.optional];return C.length===0?!1:(s.push(P),C.some(d)?!0:(s.pop(),!1))};if(!r.provides||f.length===0)return;let s=[r.id];if(f.some(d))throw new ReferenceError(`Cycle detected: ${s.join(" -> ")}.`)}n.ensureNoCycle=i;function a(r,l,g){let f=new Array,d=C=>{let J=l.get(C),N=[...J.requires,...J.optional];f.push(...N.reduce((L,H)=>{let E=g.get(H);return E&&L.push([C,E]),L},[]))};for(let C of l.keys())d(C);let s=f.filter(C=>C[1]===r),v=0;for(;s.length>v;){let C=s.length,J=new Set(s.map(N=>N[0]));for(let N of J)f.filter(L=>L[1]===N).forEach(L=>{s.includes(L)||s.push(L)});v=C}let P=Ui.topologicSort(s),O=P.findIndex(C=>C===r);return O===-1?[r]:P.slice(0,O+1)}n.findDependents=a;function o(r,l){let g=new Set;for(let f of r.keys())r.get(f).autoStart===!0&&g.add(f);if(l.startPlugins)for(let f of l.startPlugins)g.add(f);if(l.ignorePlugins)for(let f of l.ignorePlugins)g.delete(f);return Array.from(g)}n.collectStartupPlugins=o})(fe||(fe={}));var Je=class{constructor(){this.promise=new Promise((e,t)=>{this._resolve=e,this._reject=t})}resolve(e){let t=this._resolve;t(e)}reject(e){let t=this._reject;t(e)}},Ge=class{constructor(e,t){this.name=e,this.description=t??"",this._tokenStructuralPropertyT=null}};function Ni(n){let e=0;for(let t=0,i=n.length;t<i;++t)t%4===0&&(e=Math.random()*4294967295>>>0),n[t]=e&255,e>>>=8}Q.Random=void 0;(function(n){n.getRandomValues=(()=>{let e=typeof require<"u"&&require("crypto")||null;return e&&typeof e.randomFillSync=="function"?function(i){return e.randomFillSync(i)}:e&&typeof e.randomBytes=="function"?function(i){let a=e.randomBytes(i.length);for(let o=0,r=a.length;o<r;++o)i[o]=a[o]}:Ni})()})(Q.Random||(Q.Random={}));function qi(n){let e=new Uint8Array(16),t=new Array(256);for(let i=0;i<16;++i)t[i]="0"+i.toString(16);for(let i=16;i<256;++i)t[i]=i.toString(16);return function(){return n(e),e[6]=64|e[6]&15,e[8]=128|e[8]&63,t[e[0]]+t[e[1]]+t[e[2]]+t[e[3]]+"-"+t[e[4]]+t[e[5]]+"-"+t[e[6]]+t[e[7]]+"-"+t[e[8]]+t[e[9]]+"-"+t[e[10]]+t[e[11]]+t[e[12]]+t[e[13]]+t[e[14]]+t[e[15]]}}Q.UUID=void 0;(function(n){n.uuid4=qi(Q.Random.getRandomValues)})(Q.UUID||(Q.UUID={}));Q.MimeData=Ke;Q.PluginRegistry=Ve;Q.PromiseDelegate=Je;Q.Token=Ge});var bt=W((Pe,wt)=>{(function(n,e){typeof Pe=="object"&&typeof wt<"u"?e(Pe,He(),he()):typeof define=="function"&&define.amd?define(["exports","@lumino/algorithm","@lumino/coreutils"],e):(n=typeof globalThis<"u"?globalThis:n||self,e(n.lumino_signaling={},n.lumino_algorithm,n.lumino_coreutils))})(Pe,function(n,e,t){"use strict";class i{constructor(l){this.sender=l}connect(l,g){return o.connect(this,l,g)}disconnect(l,g){return o.disconnect(this,l,g)}emit(l){o.emit(this,l)}}(function(r){function l(O,C){o.disconnectBetween(O,C)}r.disconnectBetween=l;function g(O){o.disconnectSender(O)}r.disconnectSender=g;function f(O){o.disconnectReceiver(O)}r.disconnectReceiver=f;function d(O){o.disconnectAll(O)}r.disconnectAll=d;function s(O){o.disconnectAll(O)}r.clearData=s;function v(){return o.exceptionHandler}r.getExceptionHandler=v;function P(O){let C=o.exceptionHandler;return o.exceptionHandler=O,C}r.setExceptionHandler=P})(i||(i={}));class a extends i{constructor(){super(...arguments),this._pending=new t.PromiseDelegate}async*[Symbol.asyncIterator](){let l=this._pending;for(;;)try{let{args:g,next:f}=await l.promise;l=f,yield g}catch{return}}emit(l){let g=this._pending,f=this._pending=new t.PromiseDelegate;g.resolve({args:l,next:f}),super.emit(l)}stop(){this._pending.promise.catch(()=>{}),this._pending.reject("stop"),this._pending=new t.PromiseDelegate}}var o;(function(r){r.exceptionHandler=R=>{console.error(R)};function l(R,M,u){u=u||void 0;let x=O.get(R.sender);if(x||(x=[],O.set(R.sender,x)),L(x,R,M,u))return!1;let y=u||M,b=C.get(y);b||(b=[],C.set(y,b));let I={signal:R,slot:M,thisArg:u};return x.push(I),b.push(I),!0}r.connect=l;function g(R,M,u){u=u||void 0;let x=O.get(R.sender);if(!x||x.length===0)return!1;let y=L(x,R,M,u);if(!y)return!1;let b=u||M,I=C.get(b);return y.signal=null,E(x),E(I),!0}r.disconnect=g;function f(R,M){let u=O.get(R);if(!u||u.length===0)return;let x=C.get(M);if(!(!x||x.length===0)){for(let y of x)y.signal&&y.signal.sender===R&&(y.signal=null);E(u),E(x)}}r.disconnectBetween=f;function d(R){let M=O.get(R);if(!(!M||M.length===0)){for(let u of M){if(!u.signal)continue;let x=u.thisArg||u.slot;u.signal=null,E(C.get(x))}E(M)}}r.disconnectSender=d;function s(R){let M=C.get(R);if(!(!M||M.length===0)){for(let u of M){if(!u.signal)continue;let x=u.signal.sender;u.signal=null,E(O.get(x))}E(M)}}r.disconnectReceiver=s;function v(R){d(R),s(R)}r.disconnectAll=v;function P(R,M){let u=O.get(R.sender);if(!(!u||u.length===0))for(let x=0,y=u.length;x<y;++x){let b=u[x];b.signal===R&&H(b,M)}}r.emit=P;let O=new WeakMap,C=new WeakMap,J=new Set,N=typeof requestAnimationFrame=="function"?requestAnimationFrame:setImmediate;function L(R,M,u,x){return e.find(R,y=>y.signal===M&&y.slot===u&&y.thisArg===x)}function H(R,M){let{signal:u,slot:x,thisArg:y}=R;try{x.call(y,u.sender,M)}catch(b){r.exceptionHandler(b)}}function E(R){J.size===0&&N(F),J.add(R)}function F(){J.forEach(X),J.clear()}function X(R){e.ArrayExt.removeAllWhere(R,A)}function A(R){return R.signal===null}})(o||(o={})),n.Signal=i,n.Stream=a})});var kt=W(Se=>{"use strict";Object.defineProperty(Se,"__esModule",{value:!0});Se.ActivityMonitor=void 0;var _t=bt(),Ze=class{constructor(e){this._timer=-1,this._timeout=-1,this._isDisposed=!1,this._activityStopped=new _t.Signal(this),e.signal.connect(this._onSignalFired,this),this._timeout=e.timeout||1e3}get activityStopped(){return this._activityStopped}get timeout(){return this._timeout}set timeout(e){this._timeout=e}get isDisposed(){return this._isDisposed}dispose(){this._isDisposed||(this._isDisposed=!0,_t.Signal.clearData(this))}_onSignalFired(e,t){clearTimeout(this._timer),this._sender=e,this._args=t,this._timer=setTimeout(()=>{this._activityStopped.emit({sender:this._sender,args:this._args})},this._timeout)}};Se.ActivityMonitor=Ze});var St=W(Pt=>{"use strict";Object.defineProperty(Pt,"__esModule",{value:!0})});var jt=W(je=>{"use strict";Object.defineProperty(je,"__esModule",{value:!0});je.LruCache=void 0;var Li=128,Ye=class{constructor(e={}){this._map=new Map,this._maxSize=e?.maxSize||Li}get size(){return this._map.size}clear(){this._map.clear()}get(e){let t=this._map.get(e)||null;return t!=null&&(this._map.delete(e),this._map.set(e,t)),t}set(e,t){this._map.size>=this._maxSize&&this._map.delete(this._map.keys().next().value),this._map.set(e,t)}};je.LruCache=Ye});var Et=W(Oe=>{"use strict";Object.defineProperty(Oe,"__esModule",{value:!0});Oe.MarkdownCodeBlocks=void 0;var Ot;(function(n){n.CODE_BLOCK_MARKER="```";let e=[".markdown",".mdown",".mkdn",".md",".mkd",".mdwn",".mdtxt",".mdtext",".text",".txt",".Rmd"];class t{constructor(r){this.startLine=r,this.code="",this.endLine=-1}}n.MarkdownCodeBlock=t;function i(o){return e.indexOf(o)>-1}n.isMarkdown=i;function a(o){if(!o||o==="")return[];let r=o.split(`
`),l=[],g=null;for(let f=0;f<r.length;f++){let d=r[f],s=d.indexOf(n.CODE_BLOCK_MARKER)===0,v=g!=null;if(!(!s&&!v))if(v)g&&(s?(g.endLine=f-1,l.push(g),g=null):g.code+=d+`
`);else{g=new t(f);let P=d.indexOf(n.CODE_BLOCK_MARKER),O=d.lastIndexOf(n.CODE_BLOCK_MARKER);P!==O&&(g.code=d.substring(P+n.CODE_BLOCK_MARKER.length,O),g.endLine=f,l.push(g),g=null)}}return l}n.findMarkdownCodeBlocks=a})(Ot||(Oe.MarkdownCodeBlocks=Ot={}))});var Mt=W((yn,zt)=>{"use strict";function Fi(n,e){var t=n;e.slice(0,-1).forEach(function(a){t=t[a]||{}});var i=e[e.length-1];return i in t}function Ct(n){return typeof n=="number"||/^0x[0-9a-f]+$/i.test(n)?!0:/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(n)}function Rt(n,e){return e==="constructor"&&typeof n[e]=="function"||e==="__proto__"}zt.exports=function(n,e){e||(e={});var t={bools:{},strings:{},unknownFn:null};typeof e.unknown=="function"&&(t.unknownFn=e.unknown),typeof e.boolean=="boolean"&&e.boolean?t.allBools=!0:[].concat(e.boolean).filter(Boolean).forEach(function(E){t.bools[E]=!0});var i={};function a(E){return i[E].some(function(F){return t.bools[F]})}Object.keys(e.alias||{}).forEach(function(E){i[E]=[].concat(e.alias[E]),i[E].forEach(function(F){i[F]=[E].concat(i[E].filter(function(X){return F!==X}))})}),[].concat(e.string).filter(Boolean).forEach(function(E){t.strings[E]=!0,i[E]&&[].concat(i[E]).forEach(function(F){t.strings[F]=!0})});var o=e.default||{},r={_:[]};function l(E,F){return t.allBools&&/^--[^=]+$/.test(F)||t.strings[E]||t.bools[E]||i[E]}function g(E,F,X){for(var A=E,R=0;R<F.length-1;R++){var M=F[R];if(Rt(A,M))return;A[M]===void 0&&(A[M]={}),(A[M]===Object.prototype||A[M]===Number.prototype||A[M]===String.prototype)&&(A[M]={}),A[M]===Array.prototype&&(A[M]=[]),A=A[M]}var u=F[F.length-1];Rt(A,u)||((A===Object.prototype||A===Number.prototype||A===String.prototype)&&(A={}),A===Array.prototype&&(A=[]),A[u]===void 0||t.bools[u]||typeof A[u]=="boolean"?A[u]=X:Array.isArray(A[u])?A[u].push(X):A[u]=[A[u],X])}function f(E,F,X){if(!(X&&t.unknownFn&&!l(E,X)&&t.unknownFn(X)===!1)){var A=!t.strings[E]&&Ct(F)?Number(F):F;g(r,E.split("."),A),(i[E]||[]).forEach(function(R){g(r,R.split("."),A)})}}Object.keys(t.bools).forEach(function(E){f(E,o[E]===void 0?!1:o[E])});var d=[];n.indexOf("--")!==-1&&(d=n.slice(n.indexOf("--")+1),n=n.slice(0,n.indexOf("--")));for(var s=0;s<n.length;s++){var v=n[s],P,O;if(/^--.+=/.test(v)){var C=v.match(/^--([^=]+)=([\s\S]*)$/);P=C[1];var J=C[2];t.bools[P]&&(J=J!=="false"),f(P,J,v)}else if(/^--no-.+/.test(v))P=v.match(/^--no-(.+)/)[1],f(P,!1,v);else if(/^--.+/.test(v))P=v.match(/^--(.+)/)[1],O=n[s+1],O!==void 0&&!/^(-|--)[^-]/.test(O)&&!t.bools[P]&&!t.allBools&&(!i[P]||!a(P))?(f(P,O,v),s+=1):/^(true|false)$/.test(O)?(f(P,O==="true",v),s+=1):f(P,t.strings[P]?"":!0,v);else if(/^-[^-]+/.test(v)){for(var N=v.slice(1,-1).split(""),L=!1,H=0;H<N.length;H++){if(O=v.slice(H+2),O==="-"){f(N[H],O,v);continue}if(/[A-Za-z]/.test(N[H])&&O[0]==="="){f(N[H],O.slice(1),v),L=!0;break}if(/[A-Za-z]/.test(N[H])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(O)){f(N[H],O,v),L=!0;break}if(N[H+1]&&N[H+1].match(/\W/)){f(N[H],v.slice(H+2),v),L=!0;break}else f(N[H],t.strings[N[H]]?"":!0,v)}P=v.slice(-1)[0],!L&&P!=="-"&&(n[s+1]&&!/^(-|--)[^-]/.test(n[s+1])&&!t.bools[P]&&(!i[P]||!a(P))?(f(P,n[s+1],v),s+=1):n[s+1]&&/^(true|false)$/.test(n[s+1])?(f(P,n[s+1]==="true",v),s+=1):f(P,t.strings[P]?"":!0,v))}else if((!t.unknownFn||t.unknownFn(v)!==!1)&&r._.push(t.strings._||!Ct(v)?v:Number(v)),e.stopEarly){r._.push.apply(r._,n.slice(s+1));break}}return Object.keys(o).forEach(function(E){Fi(r,E.split("."))||(g(r,E.split("."),o[E]),(i[E]||[]).forEach(function(F){g(r,F.split("."),o[E])}))}),e["--"]?r["--"]=d.slice():d.forEach(function(E){r._.push(E)}),r}});var Dt=W((wn,It)=>{"use strict";It.exports=function(e,t){if(t=t.split(":")[0],e=+e,!e)return!1;switch(t){case"http":case"ws":return e!==80;case"https":case"wss":return e!==443;case"ftp":return e!==21;case"gopher":return e!==70;case"file":return!1}return e!==0}});var Ut=W(Xe=>{"use strict";var $i=Object.prototype.hasOwnProperty,Bi;function Tt(n){try{return decodeURIComponent(n.replace(/\+/g," "))}catch{return null}}function At(n){try{return encodeURIComponent(n)}catch{return null}}function Wi(n){for(var e=/([^=?#&]+)=?([^&]*)/g,t={},i;i=e.exec(n);){var a=Tt(i[1]),o=Tt(i[2]);a===null||o===null||a in t||(t[a]=o)}return t}function Hi(n,e){e=e||"";var t=[],i,a;typeof e!="string"&&(e="?");for(a in n)if($i.call(n,a)){if(i=n[a],!i&&(i===null||i===Bi||isNaN(i))&&(i=""),a=At(a),i=At(i),a===null||i===null)continue;t.push(a+"="+i)}return t.length?e+t.join("&"):""}Xe.stringify=Hi;Xe.parse=Wi});var Ht=W((_n,Wt)=>{"use strict";var qt=Dt(),Ee=Ut(),Ki=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,Lt=/[\n\r\t]/g,Vi=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,Ft=/:\d+$/,Ji=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,Gi=/^[a-zA-Z]:/;function et(n){return(n||"").toString().replace(Ki,"")}var Qe=[["#","hash"],["?","query"],function(e,t){return se(t.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],Nt={hash:1,query:1};function $t(n){var e;typeof window<"u"?e=window:typeof global<"u"?e=global:typeof self<"u"?e=self:e={};var t=e.location||{};n=n||t;var i={},a=typeof n,o;if(n.protocol==="blob:")i=new re(unescape(n.pathname),{});else if(a==="string"){i=new re(n,{});for(o in Nt)delete i[o]}else if(a==="object"){for(o in n)o in Nt||(i[o]=n[o]);i.slashes===void 0&&(i.slashes=Vi.test(n.href))}return i}function se(n){return n==="file:"||n==="ftp:"||n==="http:"||n==="https:"||n==="ws:"||n==="wss:"}function Bt(n,e){n=et(n),n=n.replace(Lt,""),e=e||{};var t=Ji.exec(n),i=t[1]?t[1].toLowerCase():"",a=!!t[2],o=!!t[3],r=0,l;return a?o?(l=t[2]+t[3]+t[4],r=t[2].length+t[3].length):(l=t[2]+t[4],r=t[2].length):o?(l=t[3]+t[4],r=t[3].length):l=t[4],i==="file:"?r>=2&&(l=l.slice(2)):se(i)?l=t[4]:i?a&&(l=l.slice(2)):r>=2&&se(e.protocol)&&(l=t[4]),{protocol:i,slashes:a||se(i),slashesCount:r,rest:l}}function Zi(n,e){if(n==="")return e;for(var t=(e||"/").split("/").slice(0,-1).concat(n.split("/")),i=t.length,a=t[i-1],o=!1,r=0;i--;)t[i]==="."?t.splice(i,1):t[i]===".."?(t.splice(i,1),r++):r&&(i===0&&(o=!0),t.splice(i,1),r--);return o&&t.unshift(""),(a==="."||a==="..")&&t.push(""),t.join("/")}function re(n,e,t){if(n=et(n),n=n.replace(Lt,""),!(this instanceof re))return new re(n,e,t);var i,a,o,r,l,g,f=Qe.slice(),d=typeof e,s=this,v=0;for(d!=="object"&&d!=="string"&&(t=e,e=null),t&&typeof t!="function"&&(t=Ee.parse),e=$t(e),a=Bt(n||"",e),i=!a.protocol&&!a.slashes,s.slashes=a.slashes||i&&e.slashes,s.protocol=a.protocol||e.protocol||"",n=a.rest,(a.protocol==="file:"&&(a.slashesCount!==2||Gi.test(n))||!a.slashes&&(a.protocol||a.slashesCount<2||!se(s.protocol)))&&(f[3]=[/(.*)/,"pathname"]);v<f.length;v++){if(r=f[v],typeof r=="function"){n=r(n,s);continue}o=r[0],g=r[1],o!==o?s[g]=n:typeof o=="string"?(l=o==="@"?n.lastIndexOf(o):n.indexOf(o),~l&&(typeof r[2]=="number"?(s[g]=n.slice(0,l),n=n.slice(l+r[2])):(s[g]=n.slice(l),n=n.slice(0,l)))):(l=o.exec(n))&&(s[g]=l[1],n=n.slice(0,l.index)),s[g]=s[g]||i&&r[3]&&e[g]||"",r[4]&&(s[g]=s[g].toLowerCase())}t&&(s.query=t(s.query)),i&&e.slashes&&s.pathname.charAt(0)!=="/"&&(s.pathname!==""||e.pathname!=="")&&(s.pathname=Zi(s.pathname,e.pathname)),s.pathname.charAt(0)!=="/"&&se(s.protocol)&&(s.pathname="/"+s.pathname),qt(s.port,s.protocol)||(s.host=s.hostname,s.port=""),s.username=s.password="",s.auth&&(l=s.auth.indexOf(":"),~l?(s.username=s.auth.slice(0,l),s.username=encodeURIComponent(decodeURIComponent(s.username)),s.password=s.auth.slice(l+1),s.password=encodeURIComponent(decodeURIComponent(s.password))):s.username=encodeURIComponent(decodeURIComponent(s.auth)),s.auth=s.password?s.username+":"+s.password:s.username),s.origin=s.protocol!=="file:"&&se(s.protocol)&&s.host?s.protocol+"//"+s.host:"null",s.href=s.toString()}function Yi(n,e,t){var i=this;switch(n){case"query":typeof e=="string"&&e.length&&(e=(t||Ee.parse)(e)),i[n]=e;break;case"port":i[n]=e,qt(e,i.protocol)?e&&(i.host=i.hostname+":"+e):(i.host=i.hostname,i[n]="");break;case"hostname":i[n]=e,i.port&&(e+=":"+i.port),i.host=e;break;case"host":i[n]=e,Ft.test(e)?(e=e.split(":"),i.port=e.pop(),i.hostname=e.join(":")):(i.hostname=e,i.port="");break;case"protocol":i.protocol=e.toLowerCase(),i.slashes=!t;break;case"pathname":case"hash":if(e){var a=n==="pathname"?"/":"#";i[n]=e.charAt(0)!==a?a+e:e}else i[n]=e;break;case"username":case"password":i[n]=encodeURIComponent(e);break;case"auth":var o=e.indexOf(":");~o?(i.username=e.slice(0,o),i.username=encodeURIComponent(decodeURIComponent(i.username)),i.password=e.slice(o+1),i.password=encodeURIComponent(decodeURIComponent(i.password))):i.username=encodeURIComponent(decodeURIComponent(e))}for(var r=0;r<Qe.length;r++){var l=Qe[r];l[4]&&(i[l[1]]=i[l[1]].toLowerCase())}return i.auth=i.password?i.username+":"+i.password:i.username,i.origin=i.protocol!=="file:"&&se(i.protocol)&&i.host?i.protocol+"//"+i.host:"null",i.href=i.toString(),i}function Xi(n){(!n||typeof n!="function")&&(n=Ee.stringify);var e,t=this,i=t.host,a=t.protocol;a&&a.charAt(a.length-1)!==":"&&(a+=":");var o=a+(t.protocol&&t.slashes||se(t.protocol)?"//":"");return t.username?(o+=t.username,t.password&&(o+=":"+t.password),o+="@"):t.password?(o+=":"+t.password,o+="@"):t.protocol!=="file:"&&se(t.protocol)&&!i&&t.pathname!=="/"&&(o+="@"),(i[i.length-1]===":"||Ft.test(t.hostname)&&!t.port)&&(i+=":"),o+=i+t.pathname,e=typeof t.query=="object"?n(t.query):t.query,e&&(o+=e.charAt(0)!=="?"?"?"+e:e),t.hash&&(o+=t.hash),o}re.prototype={set:Yi,toString:Xi};re.extractProtocol=Bt;re.location=$t;re.trimLeft=et;re.qs=Ee;Wt.exports=re});var tt=W(ve=>{"use strict";var Qi=ve&&ve.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ve,"__esModule",{value:!0});ve.URLExt=void 0;var en=require("path"),Ce=Qi(Ht()),Kt;(function(n){function e(f){if(typeof document<"u"&&document){let d=document.createElement("a");return d.href=f,d}return(0,Ce.default)(f)}n.parse=e;function t(f){return(0,Ce.default)(f).hostname}n.getHostName=t;function i(f){return f&&e(f).toString()}n.normalize=i;function a(...f){let d=(0,Ce.default)(f[0],{}),s=d.protocol===""&&d.slashes;s&&(d=(0,Ce.default)(f[0],"https:"+f[0]));let v=`${s?"":d.protocol}${d.slashes?"//":""}${d.auth}${d.auth?"@":""}${d.host}`,P=en.posix.join(`${v&&d.pathname[0]!=="/"?"/":""}${d.pathname}`,...f.slice(1));return`${v}${P==="."?"":P}`}n.join=a;function o(f){return a(...f.split("/").map(encodeURIComponent))}n.encodeParts=o;function r(f){let d=Object.keys(f).filter(s=>s.length>0);return d.length?"?"+d.map(s=>{let v=encodeURIComponent(String(f[s]));return s+(v?"="+v:"")}).join("&"):""}n.objectToQueryString=r;function l(f){return f.replace(/^\?/,"").split("&").reduce((d,s)=>{let[v,P]=s.split("=");return v.length>0&&(d[v]=decodeURIComponent(P||"")),d},{})}n.queryStringToObject=l;function g(f,d=!1){let{protocol:s}=e(f);return(!s||f.toLowerCase().indexOf(s)!==0)&&(d?f.indexOf("//")!==0:f.indexOf("/")!==0)}n.isLocal=g})(Kt||(ve.URLExt=Kt={}))});var Vt=W((exports,module)=>{"use strict";var __importDefault=exports&&exports.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(exports,"__esModule",{value:!0});exports.PageConfig=void 0;var coreutils_1=he(),minimist_1=__importDefault(Mt()),url_1=tt(),PageConfig;(function(PageConfig){function getOption(name){if(configData)return configData[name]||getBodyData(name);configData=Object.create(null);let found=!1;if(typeof document<"u"&&document){let n=document.getElementById("jupyter-config-data");n&&(configData=JSON.parse(n.textContent||""),found=!0)}if(!found&&typeof process<"u"&&process.argv)try{let cli=(0,minimist_1.default)(process.argv.slice(2)),path=require("path"),fullPath="";"jupyter-config-data"in cli?fullPath=path.resolve(cli["jupyter-config-data"]):"JUPYTER_CONFIG_DATA"in process.env&&(fullPath=path.resolve(process.env.JUPYTER_CONFIG_DATA)),fullPath&&(configData=eval("require")(fullPath))}catch(n){console.error(n)}if(!coreutils_1.JSONExt.isObject(configData))configData=Object.create(null);else for(let n in configData)typeof configData[n]!="string"&&(configData[n]=JSON.stringify(configData[n]));return configData[name]||getBodyData(name)}PageConfig.getOption=getOption;function setOption(n,e){let t=getOption(n);return configData[n]=e,t}PageConfig.setOption=setOption;function getBaseUrl(){return url_1.URLExt.normalize(getOption("baseUrl")||"/")}PageConfig.getBaseUrl=getBaseUrl;function getTreeUrl(){return url_1.URLExt.join(getBaseUrl(),getOption("treeUrl"))}PageConfig.getTreeUrl=getTreeUrl;function getShareUrl(){return url_1.URLExt.normalize(getOption("shareUrl")||getBaseUrl())}PageConfig.getShareUrl=getShareUrl;function getTreeShareUrl(){return url_1.URLExt.normalize(url_1.URLExt.join(getShareUrl(),getOption("treeUrl")))}PageConfig.getTreeShareUrl=getTreeShareUrl;function getUrl(n){var e,t,i,a;let o=n.toShare?getShareUrl():getBaseUrl(),r=(e=n.mode)!==null&&e!==void 0?e:getOption("mode"),l=(t=n.workspace)!==null&&t!==void 0?t:getOption("workspace"),g=r==="single-document"?"doc":"lab";o=url_1.URLExt.join(o,g),l!==PageConfig.defaultWorkspace&&(o=url_1.URLExt.join(o,"workspaces",encodeURIComponent((i=getOption("workspace"))!==null&&i!==void 0?i:PageConfig.defaultWorkspace)));let f=(a=n.treePath)!==null&&a!==void 0?a:getOption("treePath");return f&&(o=url_1.URLExt.join(o,"tree",url_1.URLExt.encodeParts(f))),o}PageConfig.getUrl=getUrl,PageConfig.defaultWorkspace="default";function getWsUrl(n){let e=getOption("wsUrl");if(!e){if(n=n?url_1.URLExt.normalize(n):getBaseUrl(),n.indexOf("http")!==0)return"";e="ws"+n.slice(4)}return url_1.URLExt.normalize(e)}PageConfig.getWsUrl=getWsUrl;function getNBConvertURL({path:n,format:e,download:t}){let i=url_1.URLExt.encodeParts(n),a=url_1.URLExt.join(getBaseUrl(),"nbconvert",e,i);return t?a+"?download=true":a}PageConfig.getNBConvertURL=getNBConvertURL;function getToken(){return getOption("token")||getBodyData("jupyterApiToken")}PageConfig.getToken=getToken;function getNotebookVersion(){let n=getOption("notebookVersion");return n===""?[0,0,0]:JSON.parse(n)}PageConfig.getNotebookVersion=getNotebookVersion;let configData=null;function getBodyData(n){if(typeof document>"u"||!document.body)return"";let e=document.body.dataset[n];return typeof e>"u"?"":decodeURIComponent(e)}let Extension;(function(n){function e(a){try{let o=getOption(a);if(o)return JSON.parse(o)}catch(o){console.warn(`Unable to parse ${a}.`,o)}return[]}n.deferred=e("deferredExtensions"),n.disabled=e("disabledExtensions");function t(a){let o=a.indexOf(":"),r="";return o!==-1&&(r=a.slice(0,o)),n.deferred.some(l=>l===a||r&&l===r)}n.isDeferred=t;function i(a){let o=a.indexOf(":"),r="";return o!==-1&&(r=a.slice(0,o)),n.disabled.some(l=>l===a||r&&l===r)}n.isDisabled=i})(Extension=PageConfig.Extension||(PageConfig.Extension={}))})(PageConfig||(exports.PageConfig=PageConfig={}))});var Gt=W(Re=>{"use strict";Object.defineProperty(Re,"__esModule",{value:!0});Re.PathExt=void 0;var de=require("path"),Jt;(function(n){function e(...s){let v=de.posix.join(...s);return v==="."?"":d(v)}n.join=e;function t(...s){let v=de.posix.join(...s);return v==="."?"":v}n.joinWithLeadingSlash=t;function i(s,v){return de.posix.basename(s,v)}n.basename=i;function a(s){let v=d(de.posix.dirname(s));return v==="."?"":v}n.dirname=a;function o(s){return de.posix.extname(s)}n.extname=o;function r(s){return s===""?"":d(de.posix.normalize(s))}n.normalize=r;function l(...s){return d(de.posix.resolve(...s))}n.resolve=l;function g(s,v){return d(de.posix.relative(s,v))}n.relative=g;function f(s){return s.length>0&&s.indexOf(".")!==0&&(s=`.${s}`),s}n.normalizeExtension=f;function d(s){return s.indexOf("/")===0&&(s=s.slice(1)),s}n.removeSlash=d})(Jt||(Re.PathExt=Jt={}))});var Zt=W(ze=>{"use strict";Object.defineProperty(ze,"__esModule",{value:!0});ze.signalToPromise=void 0;var tn=he();function nn(n,e){let t=new tn.PromiseDelegate;function i(){n.disconnect(a)}function a(o,r){i(),t.resolve([o,r])}return n.connect(a),(e??0)>0&&setTimeout(()=>{i(),t.reject(`Signal not emitted within ${e} ms.`)},e),t.promise}ze.signalToPromise=nn});var Xt=W(Me=>{"use strict";Object.defineProperty(Me,"__esModule",{value:!0});Me.Text=void 0;var Yt;(function(n){function t(r,l){return r}n.jsIndexToCharIndex=t;function i(r,l){return r}n.charIndexToJsIndex=i;function a(r,l=!1){return r.replace(/^(\w)|[\s-_:]+(\w)/g,function(g,f,d){return d?d.toUpperCase():l?f.toUpperCase():f.toLowerCase()})}n.camelCase=a;function o(r){return(r||"").toLowerCase().split(" ").map(l=>l.charAt(0).toUpperCase()+l.slice(1)).join(" ")}n.titleCase=o})(Yt||(Me.Text=Yt={}))});var ei=W(Ie=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});Ie.Time=void 0;var an=[{name:"years",milliseconds:365*24*60*60*1e3},{name:"months",milliseconds:30*24*60*60*1e3},{name:"days",milliseconds:24*60*60*1e3},{name:"hours",milliseconds:60*60*1e3},{name:"minutes",milliseconds:60*1e3},{name:"seconds",milliseconds:1e3}],Qt;(function(n){function e(i,a="long"){let o=document.documentElement.lang||"en",r=new Intl.RelativeTimeFormat(o,{numeric:"auto",style:a}),l=new Date(i).getTime()-Date.now();for(let g of an){let f=Math.ceil(l/g.milliseconds);if(f!==0)return r.format(f,g.name)}return r.format(0,"seconds")}n.formatHuman=e;function t(i){let a=document.documentElement.lang||"en";return new Intl.DateTimeFormat(a,{dateStyle:"short",timeStyle:"short"}).format(new Date(i))}n.format=t})(Qt||(Ie.Time=Qt={}))});var xe=W(Y=>{"use strict";var on=Y&&Y.__createBinding||(Object.create?function(n,e,t,i){i===void 0&&(i=t);var a=Object.getOwnPropertyDescriptor(e,t);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,i,a)}:function(n,e,t,i){i===void 0&&(i=t),n[i]=e[t]}),le=Y&&Y.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&on(e,n,t)};Object.defineProperty(Y,"__esModule",{value:!0});le(kt(),Y);le(St(),Y);le(jt(),Y);le(Et(),Y);le(Vt(),Y);le(Gt(),Y);le(Zt(),Y);le(Xt(),Y);le(ei(),Y);le(tt(),Y)});var ii=W((Cn,ti)=>{"use strict";function De(){this._types=Object.create(null),this._extensions=Object.create(null);for(let n=0;n<arguments.length;n++)this.define(arguments[n]);this.define=this.define.bind(this),this.getType=this.getType.bind(this),this.getExtension=this.getExtension.bind(this)}De.prototype.define=function(n,e){for(let t in n){let i=n[t].map(function(a){return a.toLowerCase()});t=t.toLowerCase();for(let a=0;a<i.length;a++){let o=i[a];if(o[0]!=="*"){if(!e&&o in this._types)throw new Error('Attempt to change mapping for "'+o+'" extension from "'+this._types[o]+'" to "'+t+'". Pass `force=true` to allow this, otherwise remove "'+o+'" from the list of extensions for "'+t+'".');this._types[o]=t}}if(e||!this._extensions[t]){let a=i[0];this._extensions[t]=a[0]!=="*"?a:a.substr(1)}}};De.prototype.getType=function(n){n=String(n);let e=n.replace(/^.*[/\\]/,"").toLowerCase(),t=e.replace(/^.*\./,"").toLowerCase(),i=e.length<n.length;return(t.length<e.length-1||!i)&&this._types[t]||null};De.prototype.getExtension=function(n){return n=/^\s*([^;\s]*)/.test(n)&&RegExp.$1,n&&this._extensions[n.toLowerCase()]||null};ti.exports=De});var ai=W((Rn,ni)=>{ni.exports={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["es","ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]}});var si=W((zn,oi)=>{oi.exports={"application/prs.cww":["cww"],"application/vnd.1000minds.decision-model+xml":["1km"],"application/vnd.3gpp.pic-bw-large":["plb"],"application/vnd.3gpp.pic-bw-small":["psb"],"application/vnd.3gpp.pic-bw-var":["pvb"],"application/vnd.3gpp2.tcap":["tcap"],"application/vnd.3m.post-it-notes":["pwn"],"application/vnd.accpac.simply.aso":["aso"],"application/vnd.accpac.simply.imp":["imp"],"application/vnd.acucobol":["acu"],"application/vnd.acucorp":["atc","acutc"],"application/vnd.adobe.air-application-installer-package+zip":["air"],"application/vnd.adobe.formscentral.fcdt":["fcdt"],"application/vnd.adobe.fxp":["fxp","fxpl"],"application/vnd.adobe.xdp+xml":["xdp"],"application/vnd.adobe.xfdf":["xfdf"],"application/vnd.ahead.space":["ahead"],"application/vnd.airzip.filesecure.azf":["azf"],"application/vnd.airzip.filesecure.azs":["azs"],"application/vnd.amazon.ebook":["azw"],"application/vnd.americandynamics.acc":["acc"],"application/vnd.amiga.ami":["ami"],"application/vnd.android.package-archive":["apk"],"application/vnd.anser-web-certificate-issue-initiation":["cii"],"application/vnd.anser-web-funds-transfer-initiation":["fti"],"application/vnd.antix.game-component":["atx"],"application/vnd.apple.installer+xml":["mpkg"],"application/vnd.apple.keynote":["key"],"application/vnd.apple.mpegurl":["m3u8"],"application/vnd.apple.numbers":["numbers"],"application/vnd.apple.pages":["pages"],"application/vnd.apple.pkpass":["pkpass"],"application/vnd.aristanetworks.swi":["swi"],"application/vnd.astraea-software.iota":["iota"],"application/vnd.audiograph":["aep"],"application/vnd.balsamiq.bmml+xml":["bmml"],"application/vnd.blueice.multipass":["mpm"],"application/vnd.bmi":["bmi"],"application/vnd.businessobjects":["rep"],"application/vnd.chemdraw+xml":["cdxml"],"application/vnd.chipnuts.karaoke-mmd":["mmd"],"application/vnd.cinderella":["cdy"],"application/vnd.citationstyles.style+xml":["csl"],"application/vnd.claymore":["cla"],"application/vnd.cloanto.rp9":["rp9"],"application/vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"application/vnd.cluetrust.cartomobile-config":["c11amc"],"application/vnd.cluetrust.cartomobile-config-pkg":["c11amz"],"application/vnd.commonspace":["csp"],"application/vnd.contact.cmsg":["cdbcmsg"],"application/vnd.cosmocaller":["cmc"],"application/vnd.crick.clicker":["clkx"],"application/vnd.crick.clicker.keyboard":["clkk"],"application/vnd.crick.clicker.palette":["clkp"],"application/vnd.crick.clicker.template":["clkt"],"application/vnd.crick.clicker.wordbank":["clkw"],"application/vnd.criticaltools.wbs+xml":["wbs"],"application/vnd.ctc-posml":["pml"],"application/vnd.cups-ppd":["ppd"],"application/vnd.curl.car":["car"],"application/vnd.curl.pcurl":["pcurl"],"application/vnd.dart":["dart"],"application/vnd.data-vision.rdz":["rdz"],"application/vnd.dbf":["dbf"],"application/vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"application/vnd.dece.ttml+xml":["uvt","uvvt"],"application/vnd.dece.unspecified":["uvx","uvvx"],"application/vnd.dece.zip":["uvz","uvvz"],"application/vnd.denovo.fcselayout-link":["fe_launch"],"application/vnd.dna":["dna"],"application/vnd.dolby.mlp":["mlp"],"application/vnd.dpgraph":["dpg"],"application/vnd.dreamfactory":["dfac"],"application/vnd.ds-keypoint":["kpxx"],"application/vnd.dvb.ait":["ait"],"application/vnd.dvb.service":["svc"],"application/vnd.dynageo":["geo"],"application/vnd.ecowin.chart":["mag"],"application/vnd.enliven":["nml"],"application/vnd.epson.esf":["esf"],"application/vnd.epson.msf":["msf"],"application/vnd.epson.quickanime":["qam"],"application/vnd.epson.salt":["slt"],"application/vnd.epson.ssf":["ssf"],"application/vnd.eszigno3+xml":["es3","et3"],"application/vnd.ezpix-album":["ez2"],"application/vnd.ezpix-package":["ez3"],"application/vnd.fdf":["fdf"],"application/vnd.fdsn.mseed":["mseed"],"application/vnd.fdsn.seed":["seed","dataless"],"application/vnd.flographit":["gph"],"application/vnd.fluxtime.clip":["ftc"],"application/vnd.framemaker":["fm","frame","maker","book"],"application/vnd.frogans.fnc":["fnc"],"application/vnd.frogans.ltf":["ltf"],"application/vnd.fsc.weblaunch":["fsc"],"application/vnd.fujitsu.oasys":["oas"],"application/vnd.fujitsu.oasys2":["oa2"],"application/vnd.fujitsu.oasys3":["oa3"],"application/vnd.fujitsu.oasysgp":["fg5"],"application/vnd.fujitsu.oasysprs":["bh2"],"application/vnd.fujixerox.ddd":["ddd"],"application/vnd.fujixerox.docuworks":["xdw"],"application/vnd.fujixerox.docuworks.binder":["xbd"],"application/vnd.fuzzysheet":["fzs"],"application/vnd.genomatix.tuxedo":["txd"],"application/vnd.geogebra.file":["ggb"],"application/vnd.geogebra.tool":["ggt"],"application/vnd.geometry-explorer":["gex","gre"],"application/vnd.geonext":["gxt"],"application/vnd.geoplan":["g2w"],"application/vnd.geospace":["g3w"],"application/vnd.gmx":["gmx"],"application/vnd.google-apps.document":["gdoc"],"application/vnd.google-apps.presentation":["gslides"],"application/vnd.google-apps.spreadsheet":["gsheet"],"application/vnd.google-earth.kml+xml":["kml"],"application/vnd.google-earth.kmz":["kmz"],"application/vnd.grafeq":["gqf","gqs"],"application/vnd.groove-account":["gac"],"application/vnd.groove-help":["ghf"],"application/vnd.groove-identity-message":["gim"],"application/vnd.groove-injector":["grv"],"application/vnd.groove-tool-message":["gtm"],"application/vnd.groove-tool-template":["tpl"],"application/vnd.groove-vcard":["vcg"],"application/vnd.hal+xml":["hal"],"application/vnd.handheld-entertainment+xml":["zmm"],"application/vnd.hbci":["hbci"],"application/vnd.hhe.lesson-player":["les"],"application/vnd.hp-hpgl":["hpgl"],"application/vnd.hp-hpid":["hpid"],"application/vnd.hp-hps":["hps"],"application/vnd.hp-jlyt":["jlt"],"application/vnd.hp-pcl":["pcl"],"application/vnd.hp-pclxl":["pclxl"],"application/vnd.hydrostatix.sof-data":["sfd-hdstx"],"application/vnd.ibm.minipay":["mpy"],"application/vnd.ibm.modcap":["afp","listafp","list3820"],"application/vnd.ibm.rights-management":["irm"],"application/vnd.ibm.secure-container":["sc"],"application/vnd.iccprofile":["icc","icm"],"application/vnd.igloader":["igl"],"application/vnd.immervision-ivp":["ivp"],"application/vnd.immervision-ivu":["ivu"],"application/vnd.insors.igm":["igm"],"application/vnd.intercon.formnet":["xpw","xpx"],"application/vnd.intergeo":["i2g"],"application/vnd.intu.qbo":["qbo"],"application/vnd.intu.qfx":["qfx"],"application/vnd.ipunplugged.rcprofile":["rcprofile"],"application/vnd.irepository.package+xml":["irp"],"application/vnd.is-xpr":["xpr"],"application/vnd.isac.fcs":["fcs"],"application/vnd.jam":["jam"],"application/vnd.jcp.javame.midlet-rms":["rms"],"application/vnd.jisp":["jisp"],"application/vnd.joost.joda-archive":["joda"],"application/vnd.kahootz":["ktz","ktr"],"application/vnd.kde.karbon":["karbon"],"application/vnd.kde.kchart":["chrt"],"application/vnd.kde.kformula":["kfo"],"application/vnd.kde.kivio":["flw"],"application/vnd.kde.kontour":["kon"],"application/vnd.kde.kpresenter":["kpr","kpt"],"application/vnd.kde.kspread":["ksp"],"application/vnd.kde.kword":["kwd","kwt"],"application/vnd.kenameaapp":["htke"],"application/vnd.kidspiration":["kia"],"application/vnd.kinar":["kne","knp"],"application/vnd.koan":["skp","skd","skt","skm"],"application/vnd.kodak-descriptor":["sse"],"application/vnd.las.las+xml":["lasxml"],"application/vnd.llamagraphics.life-balance.desktop":["lbd"],"application/vnd.llamagraphics.life-balance.exchange+xml":["lbe"],"application/vnd.lotus-1-2-3":["123"],"application/vnd.lotus-approach":["apr"],"application/vnd.lotus-freelance":["pre"],"application/vnd.lotus-notes":["nsf"],"application/vnd.lotus-organizer":["org"],"application/vnd.lotus-screencam":["scm"],"application/vnd.lotus-wordpro":["lwp"],"application/vnd.macports.portpkg":["portpkg"],"application/vnd.mapbox-vector-tile":["mvt"],"application/vnd.mcd":["mcd"],"application/vnd.medcalcdata":["mc1"],"application/vnd.mediastation.cdkey":["cdkey"],"application/vnd.mfer":["mwf"],"application/vnd.mfmp":["mfm"],"application/vnd.micrografx.flo":["flo"],"application/vnd.micrografx.igx":["igx"],"application/vnd.mif":["mif"],"application/vnd.mobius.daf":["daf"],"application/vnd.mobius.dis":["dis"],"application/vnd.mobius.mbk":["mbk"],"application/vnd.mobius.mqy":["mqy"],"application/vnd.mobius.msl":["msl"],"application/vnd.mobius.plc":["plc"],"application/vnd.mobius.txf":["txf"],"application/vnd.mophun.application":["mpn"],"application/vnd.mophun.certificate":["mpc"],"application/vnd.mozilla.xul+xml":["xul"],"application/vnd.ms-artgalry":["cil"],"application/vnd.ms-cab-compressed":["cab"],"application/vnd.ms-excel":["xls","xlm","xla","xlc","xlt","xlw"],"application/vnd.ms-excel.addin.macroenabled.12":["xlam"],"application/vnd.ms-excel.sheet.binary.macroenabled.12":["xlsb"],"application/vnd.ms-excel.sheet.macroenabled.12":["xlsm"],"application/vnd.ms-excel.template.macroenabled.12":["xltm"],"application/vnd.ms-fontobject":["eot"],"application/vnd.ms-htmlhelp":["chm"],"application/vnd.ms-ims":["ims"],"application/vnd.ms-lrm":["lrm"],"application/vnd.ms-officetheme":["thmx"],"application/vnd.ms-outlook":["msg"],"application/vnd.ms-pki.seccat":["cat"],"application/vnd.ms-pki.stl":["*stl"],"application/vnd.ms-powerpoint":["ppt","pps","pot"],"application/vnd.ms-powerpoint.addin.macroenabled.12":["ppam"],"application/vnd.ms-powerpoint.presentation.macroenabled.12":["pptm"],"application/vnd.ms-powerpoint.slide.macroenabled.12":["sldm"],"application/vnd.ms-powerpoint.slideshow.macroenabled.12":["ppsm"],"application/vnd.ms-powerpoint.template.macroenabled.12":["potm"],"application/vnd.ms-project":["mpp","mpt"],"application/vnd.ms-word.document.macroenabled.12":["docm"],"application/vnd.ms-word.template.macroenabled.12":["dotm"],"application/vnd.ms-works":["wps","wks","wcm","wdb"],"application/vnd.ms-wpl":["wpl"],"application/vnd.ms-xpsdocument":["xps"],"application/vnd.mseq":["mseq"],"application/vnd.musician":["mus"],"application/vnd.muvee.style":["msty"],"application/vnd.mynfc":["taglet"],"application/vnd.neurolanguage.nlu":["nlu"],"application/vnd.nitf":["ntf","nitf"],"application/vnd.noblenet-directory":["nnd"],"application/vnd.noblenet-sealer":["nns"],"application/vnd.noblenet-web":["nnw"],"application/vnd.nokia.n-gage.ac+xml":["*ac"],"application/vnd.nokia.n-gage.data":["ngdat"],"application/vnd.nokia.n-gage.symbian.install":["n-gage"],"application/vnd.nokia.radio-preset":["rpst"],"application/vnd.nokia.radio-presets":["rpss"],"application/vnd.novadigm.edm":["edm"],"application/vnd.novadigm.edx":["edx"],"application/vnd.novadigm.ext":["ext"],"application/vnd.oasis.opendocument.chart":["odc"],"application/vnd.oasis.opendocument.chart-template":["otc"],"application/vnd.oasis.opendocument.database":["odb"],"application/vnd.oasis.opendocument.formula":["odf"],"application/vnd.oasis.opendocument.formula-template":["odft"],"application/vnd.oasis.opendocument.graphics":["odg"],"application/vnd.oasis.opendocument.graphics-template":["otg"],"application/vnd.oasis.opendocument.image":["odi"],"application/vnd.oasis.opendocument.image-template":["oti"],"application/vnd.oasis.opendocument.presentation":["odp"],"application/vnd.oasis.opendocument.presentation-template":["otp"],"application/vnd.oasis.opendocument.spreadsheet":["ods"],"application/vnd.oasis.opendocument.spreadsheet-template":["ots"],"application/vnd.oasis.opendocument.text":["odt"],"application/vnd.oasis.opendocument.text-master":["odm"],"application/vnd.oasis.opendocument.text-template":["ott"],"application/vnd.oasis.opendocument.text-web":["oth"],"application/vnd.olpc-sugar":["xo"],"application/vnd.oma.dd2+xml":["dd2"],"application/vnd.openblox.game+xml":["obgx"],"application/vnd.openofficeorg.extension":["oxt"],"application/vnd.openstreetmap.data+xml":["osm"],"application/vnd.openxmlformats-officedocument.presentationml.presentation":["pptx"],"application/vnd.openxmlformats-officedocument.presentationml.slide":["sldx"],"application/vnd.openxmlformats-officedocument.presentationml.slideshow":["ppsx"],"application/vnd.openxmlformats-officedocument.presentationml.template":["potx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":["xlsx"],"application/vnd.openxmlformats-officedocument.spreadsheetml.template":["xltx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":["docx"],"application/vnd.openxmlformats-officedocument.wordprocessingml.template":["dotx"],"application/vnd.osgeo.mapguide.package":["mgp"],"application/vnd.osgi.dp":["dp"],"application/vnd.osgi.subsystem":["esa"],"application/vnd.palm":["pdb","pqa","oprc"],"application/vnd.pawaafile":["paw"],"application/vnd.pg.format":["str"],"application/vnd.pg.osasli":["ei6"],"application/vnd.picsel":["efif"],"application/vnd.pmi.widget":["wg"],"application/vnd.pocketlearn":["plf"],"application/vnd.powerbuilder6":["pbd"],"application/vnd.previewsystems.box":["box"],"application/vnd.proteus.magazine":["mgz"],"application/vnd.publishare-delta-tree":["qps"],"application/vnd.pvi.ptid1":["ptid"],"application/vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"application/vnd.rar":["rar"],"application/vnd.realvnc.bed":["bed"],"application/vnd.recordare.musicxml":["mxl"],"application/vnd.recordare.musicxml+xml":["musicxml"],"application/vnd.rig.cryptonote":["cryptonote"],"application/vnd.rim.cod":["cod"],"application/vnd.rn-realmedia":["rm"],"application/vnd.rn-realmedia-vbr":["rmvb"],"application/vnd.route66.link66+xml":["link66"],"application/vnd.sailingtracker.track":["st"],"application/vnd.seemail":["see"],"application/vnd.sema":["sema"],"application/vnd.semd":["semd"],"application/vnd.semf":["semf"],"application/vnd.shana.informed.formdata":["ifm"],"application/vnd.shana.informed.formtemplate":["itp"],"application/vnd.shana.informed.interchange":["iif"],"application/vnd.shana.informed.package":["ipk"],"application/vnd.simtech-mindmapper":["twd","twds"],"application/vnd.smaf":["mmf"],"application/vnd.smart.teacher":["teacher"],"application/vnd.software602.filler.form+xml":["fo"],"application/vnd.solent.sdkm+xml":["sdkm","sdkd"],"application/vnd.spotfire.dxp":["dxp"],"application/vnd.spotfire.sfs":["sfs"],"application/vnd.stardivision.calc":["sdc"],"application/vnd.stardivision.draw":["sda"],"application/vnd.stardivision.impress":["sdd"],"application/vnd.stardivision.math":["smf"],"application/vnd.stardivision.writer":["sdw","vor"],"application/vnd.stardivision.writer-global":["sgl"],"application/vnd.stepmania.package":["smzip"],"application/vnd.stepmania.stepchart":["sm"],"application/vnd.sun.wadl+xml":["wadl"],"application/vnd.sun.xml.calc":["sxc"],"application/vnd.sun.xml.calc.template":["stc"],"application/vnd.sun.xml.draw":["sxd"],"application/vnd.sun.xml.draw.template":["std"],"application/vnd.sun.xml.impress":["sxi"],"application/vnd.sun.xml.impress.template":["sti"],"application/vnd.sun.xml.math":["sxm"],"application/vnd.sun.xml.writer":["sxw"],"application/vnd.sun.xml.writer.global":["sxg"],"application/vnd.sun.xml.writer.template":["stw"],"application/vnd.sus-calendar":["sus","susp"],"application/vnd.svd":["svd"],"application/vnd.symbian.install":["sis","sisx"],"application/vnd.syncml+xml":["xsm"],"application/vnd.syncml.dm+wbxml":["bdm"],"application/vnd.syncml.dm+xml":["xdm"],"application/vnd.syncml.dmddf+xml":["ddf"],"application/vnd.tao.intent-module-archive":["tao"],"application/vnd.tcpdump.pcap":["pcap","cap","dmp"],"application/vnd.tmobile-livetv":["tmo"],"application/vnd.trid.tpt":["tpt"],"application/vnd.triscape.mxs":["mxs"],"application/vnd.trueapp":["tra"],"application/vnd.ufdl":["ufd","ufdl"],"application/vnd.uiq.theme":["utz"],"application/vnd.umajin":["umj"],"application/vnd.unity":["unityweb"],"application/vnd.uoml+xml":["uoml"],"application/vnd.vcx":["vcx"],"application/vnd.visio":["vsd","vst","vss","vsw"],"application/vnd.visionary":["vis"],"application/vnd.vsf":["vsf"],"application/vnd.wap.wbxml":["wbxml"],"application/vnd.wap.wmlc":["wmlc"],"application/vnd.wap.wmlscriptc":["wmlsc"],"application/vnd.webturbo":["wtb"],"application/vnd.wolfram.player":["nbp"],"application/vnd.wordperfect":["wpd"],"application/vnd.wqd":["wqd"],"application/vnd.wt.stf":["stf"],"application/vnd.xara":["xar"],"application/vnd.xfdl":["xfdl"],"application/vnd.yamaha.hv-dic":["hvd"],"application/vnd.yamaha.hv-script":["hvs"],"application/vnd.yamaha.hv-voice":["hvp"],"application/vnd.yamaha.openscoreformat":["osf"],"application/vnd.yamaha.openscoreformat.osfpvg+xml":["osfpvg"],"application/vnd.yamaha.smaf-audio":["saf"],"application/vnd.yamaha.smaf-phrase":["spf"],"application/vnd.yellowriver-custom-menu":["cmp"],"application/vnd.zul":["zir","zirz"],"application/vnd.zzazz.deck+xml":["zaz"],"application/x-7z-compressed":["7z"],"application/x-abiword":["abw"],"application/x-ace-compressed":["ace"],"application/x-apple-diskimage":["*dmg"],"application/x-arj":["arj"],"application/x-authorware-bin":["aab","x32","u32","vox"],"application/x-authorware-map":["aam"],"application/x-authorware-seg":["aas"],"application/x-bcpio":["bcpio"],"application/x-bdoc":["*bdoc"],"application/x-bittorrent":["torrent"],"application/x-blorb":["blb","blorb"],"application/x-bzip":["bz"],"application/x-bzip2":["bz2","boz"],"application/x-cbr":["cbr","cba","cbt","cbz","cb7"],"application/x-cdlink":["vcd"],"application/x-cfs-compressed":["cfs"],"application/x-chat":["chat"],"application/x-chess-pgn":["pgn"],"application/x-chrome-extension":["crx"],"application/x-cocoa":["cco"],"application/x-conference":["nsc"],"application/x-cpio":["cpio"],"application/x-csh":["csh"],"application/x-debian-package":["*deb","udeb"],"application/x-dgc-compressed":["dgc"],"application/x-director":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"],"application/x-doom":["wad"],"application/x-dtbncx+xml":["ncx"],"application/x-dtbook+xml":["dtb"],"application/x-dtbresource+xml":["res"],"application/x-dvi":["dvi"],"application/x-envoy":["evy"],"application/x-eva":["eva"],"application/x-font-bdf":["bdf"],"application/x-font-ghostscript":["gsf"],"application/x-font-linux-psf":["psf"],"application/x-font-pcf":["pcf"],"application/x-font-snf":["snf"],"application/x-font-type1":["pfa","pfb","pfm","afm"],"application/x-freearc":["arc"],"application/x-futuresplash":["spl"],"application/x-gca-compressed":["gca"],"application/x-glulx":["ulx"],"application/x-gnumeric":["gnumeric"],"application/x-gramps-xml":["gramps"],"application/x-gtar":["gtar"],"application/x-hdf":["hdf"],"application/x-httpd-php":["php"],"application/x-install-instructions":["install"],"application/x-iso9660-image":["*iso"],"application/x-iwork-keynote-sffkey":["*key"],"application/x-iwork-numbers-sffnumbers":["*numbers"],"application/x-iwork-pages-sffpages":["*pages"],"application/x-java-archive-diff":["jardiff"],"application/x-java-jnlp-file":["jnlp"],"application/x-keepass2":["kdbx"],"application/x-latex":["latex"],"application/x-lua-bytecode":["luac"],"application/x-lzh-compressed":["lzh","lha"],"application/x-makeself":["run"],"application/x-mie":["mie"],"application/x-mobipocket-ebook":["prc","mobi"],"application/x-ms-application":["application"],"application/x-ms-shortcut":["lnk"],"application/x-ms-wmd":["wmd"],"application/x-ms-wmz":["wmz"],"application/x-ms-xbap":["xbap"],"application/x-msaccess":["mdb"],"application/x-msbinder":["obd"],"application/x-mscardfile":["crd"],"application/x-msclip":["clp"],"application/x-msdos-program":["*exe"],"application/x-msdownload":["*exe","*dll","com","bat","*msi"],"application/x-msmediaview":["mvb","m13","m14"],"application/x-msmetafile":["*wmf","*wmz","*emf","emz"],"application/x-msmoney":["mny"],"application/x-mspublisher":["pub"],"application/x-msschedule":["scd"],"application/x-msterminal":["trm"],"application/x-mswrite":["wri"],"application/x-netcdf":["nc","cdf"],"application/x-ns-proxy-autoconfig":["pac"],"application/x-nzb":["nzb"],"application/x-perl":["pl","pm"],"application/x-pilot":["*prc","*pdb"],"application/x-pkcs12":["p12","pfx"],"application/x-pkcs7-certificates":["p7b","spc"],"application/x-pkcs7-certreqresp":["p7r"],"application/x-rar-compressed":["*rar"],"application/x-redhat-package-manager":["rpm"],"application/x-research-info-systems":["ris"],"application/x-sea":["sea"],"application/x-sh":["sh"],"application/x-shar":["shar"],"application/x-shockwave-flash":["swf"],"application/x-silverlight-app":["xap"],"application/x-sql":["sql"],"application/x-stuffit":["sit"],"application/x-stuffitx":["sitx"],"application/x-subrip":["srt"],"application/x-sv4cpio":["sv4cpio"],"application/x-sv4crc":["sv4crc"],"application/x-t3vm-image":["t3"],"application/x-tads":["gam"],"application/x-tar":["tar"],"application/x-tcl":["tcl","tk"],"application/x-tex":["tex"],"application/x-tex-tfm":["tfm"],"application/x-texinfo":["texinfo","texi"],"application/x-tgif":["*obj"],"application/x-ustar":["ustar"],"application/x-virtualbox-hdd":["hdd"],"application/x-virtualbox-ova":["ova"],"application/x-virtualbox-ovf":["ovf"],"application/x-virtualbox-vbox":["vbox"],"application/x-virtualbox-vbox-extpack":["vbox-extpack"],"application/x-virtualbox-vdi":["vdi"],"application/x-virtualbox-vhd":["vhd"],"application/x-virtualbox-vmdk":["vmdk"],"application/x-wais-source":["src"],"application/x-web-app-manifest+json":["webapp"],"application/x-x509-ca-cert":["der","crt","pem"],"application/x-xfig":["fig"],"application/x-xliff+xml":["*xlf"],"application/x-xpinstall":["xpi"],"application/x-xz":["xz"],"application/x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"audio/vnd.dece.audio":["uva","uvva"],"audio/vnd.digital-winds":["eol"],"audio/vnd.dra":["dra"],"audio/vnd.dts":["dts"],"audio/vnd.dts.hd":["dtshd"],"audio/vnd.lucent.voice":["lvp"],"audio/vnd.ms-playready.media.pya":["pya"],"audio/vnd.nuera.ecelp4800":["ecelp4800"],"audio/vnd.nuera.ecelp7470":["ecelp7470"],"audio/vnd.nuera.ecelp9600":["ecelp9600"],"audio/vnd.rip":["rip"],"audio/x-aac":["aac"],"audio/x-aiff":["aif","aiff","aifc"],"audio/x-caf":["caf"],"audio/x-flac":["flac"],"audio/x-m4a":["*m4a"],"audio/x-matroska":["mka"],"audio/x-mpegurl":["m3u"],"audio/x-ms-wax":["wax"],"audio/x-ms-wma":["wma"],"audio/x-pn-realaudio":["ram","ra"],"audio/x-pn-realaudio-plugin":["rmp"],"audio/x-realaudio":["*ra"],"audio/x-wav":["*wav"],"chemical/x-cdx":["cdx"],"chemical/x-cif":["cif"],"chemical/x-cmdf":["cmdf"],"chemical/x-cml":["cml"],"chemical/x-csml":["csml"],"chemical/x-xyz":["xyz"],"image/prs.btif":["btif"],"image/prs.pti":["pti"],"image/vnd.adobe.photoshop":["psd"],"image/vnd.airzip.accelerator.azv":["azv"],"image/vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"image/vnd.djvu":["djvu","djv"],"image/vnd.dvb.subtitle":["*sub"],"image/vnd.dwg":["dwg"],"image/vnd.dxf":["dxf"],"image/vnd.fastbidsheet":["fbs"],"image/vnd.fpx":["fpx"],"image/vnd.fst":["fst"],"image/vnd.fujixerox.edmics-mmr":["mmr"],"image/vnd.fujixerox.edmics-rlc":["rlc"],"image/vnd.microsoft.icon":["ico"],"image/vnd.ms-dds":["dds"],"image/vnd.ms-modi":["mdi"],"image/vnd.ms-photo":["wdp"],"image/vnd.net-fpx":["npx"],"image/vnd.pco.b16":["b16"],"image/vnd.tencent.tap":["tap"],"image/vnd.valve.source.texture":["vtf"],"image/vnd.wap.wbmp":["wbmp"],"image/vnd.xiff":["xif"],"image/vnd.zbrush.pcx":["pcx"],"image/x-3ds":["3ds"],"image/x-cmu-raster":["ras"],"image/x-cmx":["cmx"],"image/x-freehand":["fh","fhc","fh4","fh5","fh7"],"image/x-icon":["*ico"],"image/x-jng":["jng"],"image/x-mrsid-image":["sid"],"image/x-ms-bmp":["*bmp"],"image/x-pcx":["*pcx"],"image/x-pict":["pic","pct"],"image/x-portable-anymap":["pnm"],"image/x-portable-bitmap":["pbm"],"image/x-portable-graymap":["pgm"],"image/x-portable-pixmap":["ppm"],"image/x-rgb":["rgb"],"image/x-tga":["tga"],"image/x-xbitmap":["xbm"],"image/x-xpixmap":["xpm"],"image/x-xwindowdump":["xwd"],"message/vnd.wfa.wsc":["wsc"],"model/vnd.collada+xml":["dae"],"model/vnd.dwf":["dwf"],"model/vnd.gdl":["gdl"],"model/vnd.gtw":["gtw"],"model/vnd.mts":["mts"],"model/vnd.opengex":["ogex"],"model/vnd.parasolid.transmit.binary":["x_b"],"model/vnd.parasolid.transmit.text":["x_t"],"model/vnd.sap.vds":["vds"],"model/vnd.usdz+zip":["usdz"],"model/vnd.valve.source.compiled-map":["bsp"],"model/vnd.vtu":["vtu"],"text/prs.lines.tag":["dsc"],"text/vnd.curl":["curl"],"text/vnd.curl.dcurl":["dcurl"],"text/vnd.curl.mcurl":["mcurl"],"text/vnd.curl.scurl":["scurl"],"text/vnd.dvb.subtitle":["sub"],"text/vnd.fly":["fly"],"text/vnd.fmi.flexstor":["flx"],"text/vnd.graphviz":["gv"],"text/vnd.in3d.3dml":["3dml"],"text/vnd.in3d.spot":["spot"],"text/vnd.sun.j2me.app-descriptor":["jad"],"text/vnd.wap.wml":["wml"],"text/vnd.wap.wmlscript":["wmls"],"text/x-asm":["s","asm"],"text/x-c":["c","cc","cxx","cpp","h","hh","dic"],"text/x-component":["htc"],"text/x-fortran":["f","for","f77","f90"],"text/x-handlebars-template":["hbs"],"text/x-java-source":["java"],"text/x-lua":["lua"],"text/x-markdown":["mkd"],"text/x-nfo":["nfo"],"text/x-opml":["opml"],"text/x-org":["*org"],"text/x-pascal":["p","pas"],"text/x-processing":["pde"],"text/x-sass":["sass"],"text/x-scss":["scss"],"text/x-setext":["etx"],"text/x-sfv":["sfv"],"text/x-suse-ymp":["ymp"],"text/x-uuencode":["uu"],"text/x-vcalendar":["vcs"],"text/x-vcard":["vcf"],"video/vnd.dece.hd":["uvh","uvvh"],"video/vnd.dece.mobile":["uvm","uvvm"],"video/vnd.dece.pd":["uvp","uvvp"],"video/vnd.dece.sd":["uvs","uvvs"],"video/vnd.dece.video":["uvv","uvvv"],"video/vnd.dvb.file":["dvb"],"video/vnd.fvt":["fvt"],"video/vnd.mpegurl":["mxu","m4u"],"video/vnd.ms-playready.media.pyv":["pyv"],"video/vnd.uvvu.mp4":["uvu","uvvu"],"video/vnd.vivo":["viv"],"video/x-f4v":["f4v"],"video/x-fli":["fli"],"video/x-flv":["flv"],"video/x-m4v":["m4v"],"video/x-matroska":["mkv","mk3d","mks"],"video/x-mng":["mng"],"video/x-ms-asf":["asf","asx"],"video/x-ms-vob":["vob"],"video/x-ms-wm":["wm"],"video/x-ms-wmv":["wmv"],"video/x-ms-wmx":["wmx"],"video/x-ms-wvx":["wvx"],"video/x-msvideo":["avi"],"video/x-sgi-movie":["movie"],"video/x-smv":["smv"],"x-conference/x-cooltalk":["ice"]}});var li=W((Mn,ri)=>{"use strict";var sn=ii();ri.exports=new sn(ai(),si())});var ci,pi,it,rn,te,ce,ln,nt=ue(()=>{ci=oe(xe()),pi=oe(li()),it=oe(he()),rn=new it.Token("@jupyterlite/contents:IContents");(function(n){n.JSON="application/json",n.PLAIN_TEXT="text/plain",n.OCTET_STREAM="octet/stream"})(te||(te={}));(function(n){let e=JSON.parse(ci.PageConfig.getOption("fileTypes")||"{}");function t(a,o=null){a=a.toLowerCase();for(let r of Object.values(e))for(let l of r.extensions||[])if(l===a&&r.mimeTypes&&r.mimeTypes.length)return r.mimeTypes[0];return pi.default.getType(a)||o||te.OCTET_STREAM}n.getType=t;function i(a,o){a=a.toLowerCase();for(let r of Object.values(e))if(r.fileFormat===o){for(let l of r.extensions||[])if(l===a)return!0}return!1}n.hasFormat=i})(ce||(ce={}));ln=new it.Token("@jupyterlite/contents:IBroadcastChannelWrapper")});var pe,ae,ui,di,mi,at,Te,fi=ue(()=>{pe=oe(xe()),ae=oe(xe());nt();ui=oe(he()),di="JupyterLite Storage",mi=5,at=class{constructor(e){this.reduceBytesToString=(t,i)=>t+String.fromCharCode(i),this._serverContents=new Map,this._storageName=di,this._storageDrivers=null,this._localforage=e.localforage,this._storageName=e.storageName||di,this._storageDrivers=e.storageDrivers||null,this._ready=new ui.PromiseDelegate}async initialize(){await this.initStorage(),this._ready.resolve(void 0)}async initStorage(){this._storage=this.createDefaultStorage(),this._counters=this.createDefaultCounters(),this._checkpoints=this.createDefaultCheckpoints()}get ready(){return this._ready.promise}get storage(){return this.ready.then(()=>this._storage)}get counters(){return this.ready.then(()=>this._counters)}get checkpoints(){return this.ready.then(()=>this._checkpoints)}get defaultStorageOptions(){let e=this._storageDrivers&&this._storageDrivers.length?this._storageDrivers:null;return{version:1,name:this._storageName,...e?{driver:e}:{}}}createDefaultStorage(){return this._localforage.createInstance({description:"Offline Storage for Notebooks and Files",storeName:"files",...this.defaultStorageOptions})}createDefaultCounters(){return this._localforage.createInstance({description:"Store the current file suffix counters",storeName:"counters",...this.defaultStorageOptions})}createDefaultCheckpoints(){return this._localforage.createInstance({description:"Offline Storage for Checkpoints",storeName:"checkpoints",...this.defaultStorageOptions})}async newUntitled(e){var t,i,a;let o=(t=e?.path)!==null&&t!==void 0?t:"",r=(i=e?.type)!==null&&i!==void 0?i:"notebook",l=new Date().toISOString(),g=ae.PathExt.dirname(o),f=ae.PathExt.basename(o),d=ae.PathExt.extname(o),s=await this.get(g),v="";o&&!d&&s?(g=`${o}/`,v=""):g&&f?(g=`${g}/`,v=f):(g="",v=o);let P;switch(r){case"directory":{v=`Untitled Folder${await this._incrementCounter("directory")||""}`,P={name:v,path:`${g}${v}`,last_modified:l,created:l,format:"json",mimetype:"",content:null,size:0,writable:!0,type:"directory"};break}case"notebook":{let C=await this._incrementCounter("notebook");v=v||`Untitled${C||""}.ipynb`,P={name:v,path:`${g}${v}`,last_modified:l,created:l,format:"json",mimetype:te.JSON,content:Te.EMPTY_NB,size:JSON.stringify(Te.EMPTY_NB).length,writable:!0,type:"notebook"};break}default:{let C=(a=e?.ext)!==null&&a!==void 0?a:".txt",J=await this._incrementCounter("file"),N=ce.getType(C)||te.OCTET_STREAM,L;ce.hasFormat(C,"text")||N.indexOf("text")!==-1?L="text":C.indexOf("json")!==-1||C.indexOf("ipynb")!==-1?L="json":L="base64",v=v||`untitled${J||""}${C}`,P={name:v,path:`${g}${v}`,last_modified:l,created:l,format:L,mimetype:N,content:"",size:0,writable:!0,type:"file"};break}}let O=P.path;return await(await this.storage).setItem(O,P),P}async copy(e,t){let i=ae.PathExt.basename(e);for(t=t===""?"":`${t.slice(1)}/`;await this.get(`${t}${i}`,{content:!0});){let r=ae.PathExt.extname(i);i=`${i.replace(r,"")} (copy)${r}`}let a=`${t}${i}`,o=await this.get(e,{content:!0});if(!o)throw Error(`Could not find file with path ${e}`);return o={...o,name:i,path:a},await(await this.storage).setItem(a,o),o}async get(e,t){if(e=decodeURIComponent(e.replace(/^\//,"")),e==="")return await this._getFolder(e);let i=await this.storage,a=await i.getItem(e),o=await this._getServerContents(e,t),r=a||o;if(!r)return null;if(!t?.content)return{size:0,...r,content:null};if(r.type==="directory"){let l=new Map;await i.iterate((d,s)=>{s===`${e}/${d.name}`&&l.set(d.name,d)});let g=o?o.content:Array.from((await this._getServerDirectory(e)).values());for(let d of g)l.has(d.name)||l.set(d.name,d);let f=[...l.values()];return{name:ae.PathExt.basename(e),path:e,last_modified:r.last_modified,created:r.created,format:"json",mimetype:te.JSON,content:f,size:0,writable:!0,type:"directory"}}return r}async rename(e,t){let i=decodeURIComponent(e),a=await this.get(i,{content:!0});if(!a)throw Error(`Could not find file with path ${i}`);let o=new Date().toISOString(),r=ae.PathExt.basename(t),l={...a,name:r,path:t,last_modified:o},g=await this.storage;if(await g.setItem(t,l),await g.removeItem(i),await(await this.checkpoints).removeItem(i),a.type==="directory"){let f;for(f of a.content)await this.rename(pe.URLExt.join(e,f.name),pe.URLExt.join(t,f.name))}return l}async save(e,t={}){var i;e=decodeURIComponent(e);let a=ae.PathExt.extname((i=t.name)!==null&&i!==void 0?i:""),o=t.chunk,r=o?o>1||o===-1:!1,l=await this.get(e,{content:r});if(l||(l=await this.newUntitled({path:e,ext:a,type:"file"})),!l)return null;let g=l.content,f=new Date().toISOString();if(l={...l,...t,last_modified:f},t.content&&t.format==="base64"){let d=o?o===-1:!0;if(a===".ipynb"){let s=this._handleChunk(t.content,g,r);l={...l,content:d?JSON.parse(s):s,format:"json",type:"notebook",size:s.length}}else if(ce.hasFormat(a,"json")){let s=this._handleChunk(t.content,g,r);l={...l,content:d?JSON.parse(s):s,format:"json",type:"file",size:s.length}}else if(ce.hasFormat(a,"text")){let s=this._handleChunk(t.content,g,r);l={...l,content:s,format:"text",type:"file",size:s.length}}else{let s=t.content;l={...l,content:s,size:atob(s).length}}}return await(await this.storage).setItem(e,l),l}async delete(e){e=decodeURIComponent(e);let t=`${e}/`,i=(await(await this.storage).keys()).filter(a=>a===e||a.startsWith(t));await Promise.all(i.map(this.forgetPath,this))}async forgetPath(e){await Promise.all([(await this.storage).removeItem(e),(await this.checkpoints).removeItem(e)])}async createCheckpoint(e){var t;let i=await this.checkpoints;e=decodeURIComponent(e);let a=await this.get(e,{content:!0});if(!a)throw Error(`Could not find file with path ${e}`);let o=((t=await i.getItem(e))!==null&&t!==void 0?t:[]).filter(Boolean);return o.push(a),o.length>mi&&o.splice(0,o.length-mi),await i.setItem(e,o),{id:`${o.length-1}`,last_modified:a.last_modified}}async listCheckpoints(e){return(await(await this.checkpoints).getItem(e)||[]).filter(Boolean).map(this.normalizeCheckpoint,this)}normalizeCheckpoint(e,t){return{id:t.toString(),last_modified:e.last_modified}}async restoreCheckpoint(e,t){e=decodeURIComponent(e);let i=await(await this.checkpoints).getItem(e)||[],a=parseInt(t),o=i[a];await(await this.storage).setItem(e,o)}async deleteCheckpoint(e,t){e=decodeURIComponent(e);let i=await(await this.checkpoints).getItem(e)||[],a=parseInt(t);i.splice(a,1),await(await this.checkpoints).setItem(e,i)}_handleChunk(e,t,i){let a=decodeURIComponent(escape(atob(e)));return i?t+a:a}async _getFolder(e){let t=new Map;await(await this.storage).iterate((a,o)=>{o.includes("/")||t.set(a.path,a)});for(let a of(await this._getServerDirectory(e)).values())t.has(a.path)||t.set(a.path,a);return e&&t.size===0?null:{name:"",path:e,last_modified:new Date(0).toISOString(),created:new Date(0).toISOString(),format:"json",mimetype:te.JSON,content:Array.from(t.values()),size:0,writable:!0,type:"directory"}}async _getServerContents(e,t){let i=ae.PathExt.basename(e),o=(await this._getServerDirectory(pe.URLExt.join(e,".."))).get(i);if(!o)return null;if(o=o||{name:i,path:e,last_modified:new Date(0).toISOString(),created:new Date(0).toISOString(),format:"text",mimetype:te.PLAIN_TEXT,type:"file",writable:!0,size:0,content:""},t?.content)if(o.type==="directory"){let r=await this._getServerDirectory(e);o={...o,content:Array.from(r.values())}}else{let r=pe.URLExt.join(pe.PageConfig.getBaseUrl(),"files",e),l=await fetch(r);if(!l.ok)return null;let g=o.mimetype||l.headers.get("Content-Type"),f=ae.PathExt.extname(i);if(o.type==="notebook"||ce.hasFormat(f,"json")||g?.indexOf("json")!==-1||e.match(/\.(ipynb|[^/]*json[^/]*)$/)){let d=await l.text();o={...o,content:JSON.parse(d),format:"json",mimetype:o.mimetype||te.JSON,size:d.length}}else if(ce.hasFormat(f,"text")||g.indexOf("text")!==-1){let d=await l.text();o={...o,content:d,format:"text",mimetype:g||te.PLAIN_TEXT,size:d.length}}else{let d=await l.arrayBuffer(),s=new Uint8Array(d);o={...o,content:btoa(s.reduce(this.reduceBytesToString,"")),format:"base64",mimetype:g||te.OCTET_STREAM,size:s.length}}}return o}async _getServerDirectory(e){let t=this._serverContents.get(e)||new Map;if(!this._serverContents.has(e)){let i=pe.URLExt.join(pe.PageConfig.getBaseUrl(),"api/contents",e,"all.json");try{let a=await fetch(i),o=JSON.parse(await a.text());for(let r of o.content)t.set(r.name,r)}catch(a){console.warn(`don't worry, about ${a}... nothing's broken. If there had been a
          file at ${i}, you might see some more files.`)}this._serverContents.set(e,t)}return t}async _incrementCounter(e){var t;let i=await this.counters,o=((t=await i.getItem(e))!==null&&t!==void 0?t:-1)+1;return await i.setItem(e,o),o}};(function(n){n.EMPTY_NB={metadata:{orig_nbformat:4},nbformat_minor:4,nbformat:4,cells:[]}})(Te||(Te={}))});function ot(n){return"node"in n}var ye,hi,vi,gi,st=ue(()=>{ye=16895,hi=33206,vi=1,gi=2});var yi,lt,Le,cn,pn,xi,Ae,Ue,Ne,qe,rt,Fe=ue(()=>{st();yi=":",lt="/api/drive.v1",Le=4096,cn=new TextEncoder,pn=new TextDecoder("utf-8"),xi={0:!1,1:!0,2:!0,64:!0,65:!0,66:!0,129:!0,193:!0,514:!0,577:!0,578:!0,705:!0,706:!0,1024:!0,1025:!0,1026:!0,1089:!0,1090:!0,1153:!0,1154:!0,1217:!0,1218:!0,4096:!0,4098:!0},Ae=class{constructor(e){this.fs=e}open(e){let t=this.fs.realPath(e.node);this.fs.FS.isFile(e.node.mode)&&(e.file=this.fs.API.get(t))}close(e){if(!this.fs.FS.isFile(e.node.mode)||!e.file)return;let t=this.fs.realPath(e.node),i=e.flags,a=typeof i=="string"?parseInt(i,10):i;a&=8191;let o=!0;a in xi&&(o=xi[a]),o&&this.fs.API.put(t,e.file),e.file=void 0}read(e,t,i,a,o){if(a<=0||e.file===void 0||o>=(e.file.data.length||0))return 0;let r=Math.min(e.file.data.length-o,a);return t.set(e.file.data.subarray(o,o+r),i),r}write(e,t,i,a,o){var r;if(a<=0||e.file===void 0)return 0;if(e.node.timestamp=Date.now(),o+a>(((r=e.file)===null||r===void 0?void 0:r.data.length)||0)){let l=e.file.data?e.file.data:new Uint8Array;e.file.data=new Uint8Array(o+a),e.file.data.set(l)}return e.file.data.set(t.subarray(i,i+a),o),a}llseek(e,t,i){let a=t;if(i===1)a+=e.position;else if(i===2&&this.fs.FS.isFile(e.node.mode))if(e.file!==void 0)a+=e.file.data.length;else throw new this.fs.FS.ErrnoError(this.fs.ERRNO_CODES.EPERM);if(a<0)throw new this.fs.FS.ErrnoError(this.fs.ERRNO_CODES.EINVAL);return a}},Ue=class{constructor(e){this.fs=e}node(e){return ot(e)?e.node:e}getattr(e){let t=this.node(e);return{...this.fs.API.getattr(this.fs.realPath(t)),mode:t.mode,ino:t.id}}setattr(e,t){let i=this.node(e);for(let[a,o]of Object.entries(t))switch(a){case"mode":i.mode=o;break;case"timestamp":i.timestamp=o;break;default:console.warn("setattr",a,"of",o,"on",i,"not yet implemented");break}}lookup(e,t){let i=this.node(e),a=this.fs.PATH.join2(this.fs.realPath(i),t),o=this.fs.API.lookup(a);if(!o.ok)throw this.fs.FS.genericErrors[this.fs.ERRNO_CODES.ENOENT];return this.fs.createNode(i,t,o.mode,0)}mknod(e,t,i,a){let o=this.node(e),r=this.fs.PATH.join2(this.fs.realPath(o),t);return this.fs.API.mknod(r,i),this.fs.createNode(o,t,i,a)}rename(e,t,i){let a=this.node(e),o=this.node(t);this.fs.API.rename(a.parent?this.fs.PATH.join2(this.fs.realPath(a.parent),a.name):a.name,this.fs.PATH.join2(this.fs.realPath(o),i)),a.name=i,a.parent=o}unlink(e,t){this.fs.API.rmdir(this.fs.PATH.join2(this.fs.realPath(this.node(e)),t))}rmdir(e,t){this.fs.API.rmdir(this.fs.PATH.join2(this.fs.realPath(this.node(e)),t))}readdir(e){return this.fs.API.readdir(this.fs.realPath(this.node(e)))}symlink(e,t,i){throw new this.fs.FS.ErrnoError(this.fs.ERRNO_CODES.EPERM)}readlink(e){throw new this.fs.FS.ErrnoError(this.fs.ERRNO_CODES.EPERM)}},Ne=class{constructor(e,t,i,a){this._driveName=e,this._mountpoint=t,this.FS=i,this.ERRNO_CODES=a}lookup(e){return this.request({method:"lookup",path:this.normalizePath(e)})}getmode(e){return this.request({method:"getmode",path:this.normalizePath(e)})}mknod(e,t){return this.request({method:"mknod",path:this.normalizePath(e),data:{mode:t}})}rename(e,t){return this.request({method:"rename",path:this.normalizePath(e),data:{newPath:this.normalizePath(t)}})}readdir(e){let t=this.request({method:"readdir",path:this.normalizePath(e)});return t.push("."),t.push(".."),t}rmdir(e){return this.request({method:"rmdir",path:this.normalizePath(e)})}get(e){let t=this.request({method:"get",path:this.normalizePath(e)});if(!t)throw new this.FS.ErrnoError(this.ERRNO_CODES.ENOENT);let i=t.content,a=t.format;switch(a){case"json":case"text":return{data:cn.encode(i),format:a};case"base64":{let o=atob(i),r=o.length,l=new Uint8Array(r);for(let g=0;g<r;g++)l[g]=o.charCodeAt(g);return{data:l,format:a}}default:throw new this.FS.ErrnoError(this.ERRNO_CODES.ENOENT)}}put(e,t){switch(t.format){case"json":case"text":return this.request({method:"put",path:this.normalizePath(e),data:{format:t.format,data:pn.decode(t.data)}});case"base64":{let i="";for(let a=0;a<t.data.byteLength;a++)i+=String.fromCharCode(t.data[a]);return this.request({method:"put",path:this.normalizePath(e),data:{format:t.format,data:btoa(i)}})}}}getattr(e){let t=this.request({method:"getattr",path:this.normalizePath(e)});return t.atime&&(t.atime=new Date(t.atime)),t.mtime&&(t.mtime=new Date(t.mtime)),t.ctime&&(t.ctime=new Date(t.ctime)),t.size=t.size||0,t}normalizePath(e){return e.startsWith(this._mountpoint)&&(e=e.slice(this._mountpoint.length)),this._driveName&&(e=`${this._driveName}${yi}${e}`),e}},qe=class extends Ne{constructor(e,t,i,a,o){super(t,i,a,o),this._baseUrl=e}request(e){let t=new XMLHttpRequest;t.open("POST",encodeURI(this.endpoint),!1);try{t.send(JSON.stringify(e))}catch(i){console.error(i)}if(t.status>=400)throw new this.FS.ErrnoError(this.ERRNO_CODES.EINVAL);return JSON.parse(t.responseText)}get endpoint(){return`${this._baseUrl}api/drive`}},rt=class{constructor(e){this.FS=e.FS,this.PATH=e.PATH,this.ERRNO_CODES=e.ERRNO_CODES,this.API=this.createAPI(e),this.driveName=e.driveName,this.node_ops=new Ue(this),this.stream_ops=new Ae(this)}createAPI(e){return new qe(e.baseUrl,e.driveName,e.mountpoint,e.FS,e.ERRNO_CODES)}mount(e){return this.createNode(null,e.mountpoint,16895,0)}createNode(e,t,i,a){let o=this.FS;if(!o.isDir(i)&&!o.isFile(i))throw new o.ErrnoError(this.ERRNO_CODES.EINVAL);let r=o.createNode(e,t,i,a);return r.node_ops=this.node_ops,r.stream_ops=this.stream_ops,r}getMode(e){return this.API.getmode(e)}realPath(e){let t=[],i=e;for(t.push(i.name);i.parent!==i;)i=i.parent,t.push(i.name);return t.reverse(),this.PATH.join.apply(null,t)}}});var ct,we,pt=ue(()=>{ct=oe(xe());Fe();we=class{constructor(e){this.contentsManager=e.contentsManager}async processDriveRequest(e){switch(e.method){case"readdir":return this.readdir(e);case"rmdir":return this.rmdir(e);case"rename":return this.rename(e);case"getmode":return this.getmode(e);case"lookup":return this.lookup(e);case"mknod":return this.mknod(e);case"getattr":return this.getattr(e);case"get":return this.get(e);case"put":return this.put(e)}throw`Drive request ${e.method} does not exist.`}async readdir(e){let t=await this.contentsManager.get(e.path,{content:!0}),i=[];return t.type==="directory"&&t.content&&(i=t.content.map(a=>a.name)),i}async rmdir(e){return await this.contentsManager.delete(e.path),null}async rename(e){return await this.contentsManager.rename(e.path,e.data.newPath),null}async getmode(e){let t=await this.contentsManager.get(e.path),i;return t.type==="directory"?i=16895:i=33206,i}async lookup(e){let t;try{t={ok:!0,mode:(await this.contentsManager.get(e.path)).type==="directory"?16895:33206}}catch{t={ok:!1}}return t}async mknod(e){let t=await this.contentsManager.newUntitled({path:ct.PathExt.dirname(e.path),type:e.data.mode===16895?"directory":"file",ext:ct.PathExt.extname(e.path)});return await this.contentsManager.rename(t.path,e.path),null}async getattr(e){let t=await this.contentsManager.get(e.path),i=new Date(0).toISOString();return{dev:1,nlink:1,uid:0,gid:0,rdev:0,size:t.size||0,blksize:Le,blocks:Math.ceil(t.size||0/Le),atime:t.last_modified||i,mtime:t.last_modified||i,ctime:t.created||i,timestamp:0}}async get(e){let t=await this.contentsManager.get(e.path,{content:!0}),i;return t.type!=="directory"&&(i={content:t.format==="json"?JSON.stringify(t.content):t.content,format:t.format}),i}async put(e){return await this.contentsManager.save(e.path,{content:e.data.format==="json"?JSON.parse(e.data.data):e.data.data,type:"file",format:e.data.format}),null}}});var dt,wi=ue(()=>{Fe();pt();dt=class{constructor(e){this.isDisposed=!1,this._onMessage=async t=>{if(!this._channel)return;let i=t.data;if(i?.receiver!=="broadcast.ts")return;let o=await this._driveContentsProcessor.processDriveRequest(i);this._channel.postMessage(o)},this._channel=null,this._enabled=!1,this._contents=e.contents,this._driveContentsProcessor=new we({contentsManager:this._contents})}get enabled(){return this._enabled}enable(){if(this._channel){console.warn("BroadcastChannel already created and enabled");return}this._channel=new BroadcastChannel(lt),this._channel.addEventListener("message",this._onMessage),this._enabled=!0}disable(){this._channel&&(this._channel.removeEventListener("message",this._onMessage),this._channel=null),this._enabled=!1}dispose(){this.isDisposed||(this.disable(),this.isDisposed=!0)}}});var bi={};ht(bi,{BLOCK_SIZE:()=>Le,BroadcastChannelWrapper:()=>dt,Contents:()=>at,ContentsAPI:()=>Ne,DIR_MODE:()=>ye,DRIVE_API_PATH:()=>lt,DRIVE_SEPARATOR:()=>yi,DriveContentsProcessor:()=>we,DriveFS:()=>rt,DriveFSEmscriptenNodeOps:()=>Ue,DriveFSEmscriptenStreamOps:()=>Ae,FILE:()=>ce,FILE_MODE:()=>hi,IBroadcastChannelWrapper:()=>ln,IContents:()=>rn,MIME:()=>te,SEEK_CUR:()=>vi,SEEK_END:()=>gi,ServiceWorkerContentsAPI:()=>qe,instanceOfStream:()=>ot});var _i=ue(()=>{fi();Fe();nt();wi();st();pt()});var Pi=W((mt,ut)=>{(function(n,e){typeof mt=="object"&&typeof ut<"u"?ut.exports=e():typeof define=="function"&&define.amd?define(e):(n=typeof globalThis<"u"?globalThis:n||self,n.Comlink=e())})(mt,function(){"use strict";function n(e){let t=new WeakMap;return{postMessage:e.postMessage.bind(e),addEventListener:(i,a)=>{let o=r=>{"handleEvent"in a?a.handleEvent({data:r}):a({data:r})};e.on("message",o),t.set(a,o)},removeEventListener:(i,a)=>{let o=t.get(a);o&&(e.off("message",o),t.delete(a))},start:e.start&&e.start.bind(e)}}return n})});var mn={};ht(mn,{PyodideComlinkKernel:()=>We});module.exports=Ai(mn);var ji=oe(xt());var ki=oe(require("fs")),$e=class{constructor(e){this.syncMessaging=e;this._options=null;this._initializer=null;this._pyodide=null;this._localPath="";this._driveName="";this._driveFS=null;this._sendWorkerMessage=()=>{};this._initialized=new Promise((t,i)=>{this._initializer={resolve:t,reject:i}})}async initialize(e){this._options=e;let t=globalThis.fetch;if(globalThis.fetch=async(i,a)=>{if(console.log(`xxFetch ${JSON.stringify(i)} with ${JSON.stringify(a)}`),typeof i=="string"&&i.endsWith("/pypi/all.json")){let o=e.baseUrl.includes("/")?"/":"\\",r=e.baseUrl.endsWith("/")||e.baseUrl.endsWith("\\"),l=ki.readFileSync(`${e.baseUrl}${r?"":o}pypi${o}all.json`);return new Response(l,{status:200,statusText:"OK"})}return t(i,a)},e.location.includes(":")){let i=e.location.split(":");this._driveName=i[0],this._localPath=i[1]}else this._driveName="",this._localPath=e.location;await this.initRuntime(e),await this.initFilesystem(e),await this.initPackageManager(e),await this.initKernel(e),await this.initGlobals(e),this._initializer?.resolve()}async initRuntime(e){let{pyodideUrl:t,indexUrl:i}=e,a=await import(t),o=a.loadPyodide||a.default.loadPyodide;this._pyodide=await o({indexURL:i,fullStdLib:!0,stdout(r){console.log(r)},stdin:()=>""})}async initPackageManager(e){if(!this._options)throw new Error("Uninitialized");let{pipliteWheelUrl:t,disablePyPIFallback:i,pipliteUrls:a,loadPyodideOptions:o}=this._options,r=(o||{}).packages||[];r.includes("micropip")||await this._pyodide.loadPackage(["micropip"]),r.includes("piplite")||await this._pyodide.runPythonAsync(`
      import micropip
      await micropip.install('${t}', keep_going=True)
    `),await this._pyodide.runPythonAsync(`
      import piplite.piplite
      piplite.piplite._PIPLITE_DISABLE_PYPI = ${i?"True":"False"}
      piplite.piplite._PIPLITE_URLS = ${JSON.stringify(a)}
    `)}async initKernel(e){let t=(e.loadPyodideOptions||{}).packages||[],i=["ssl","sqlite3","ipykernel","comm","pyodide_kernel","ipython"],a=[];for(let o of i)t.includes(o)||a.push(`await piplite.install('${o}', keep_going=True)`);a.push("import pyodide_kernel"),e.mountDrive&&this._localPath&&a.push("import os",`os.chdir("${this._localPath}")`),await this._pyodide.runPythonAsync(a.join(`
`))}async initGlobals(e){let{globals:t}=this._pyodide;this._kernel=t.get("pyodide_kernel").kernel_instance.copy(),this._stdout_stream=t.get("pyodide_kernel").stdout_stream.copy(),this._stderr_stream=t.get("pyodide_kernel").stderr_stream.copy(),this._interpreter=this._kernel.interpreter.copy(),this._interpreter.send_comm=this.sendComm.bind(this)}async initFilesystem(e){if(e.mountDrive){let t="/drive",{FS:i,PATH:a,ERRNO_CODES:o}=this._pyodide,{baseUrl:r}=e,{DriveFS:l}=await Promise.resolve().then(()=>(_i(),bi)),g=new l({FS:i,PATH:a,ERRNO_CODES:o,baseUrl:r,driveName:this._driveName,mountpoint:t});i.mkdir(t),i.mount(g,{},t),i.chdir(t),this._driveFS=g}}mapToObject(e){let t=e instanceof Array?[]:{};return e.forEach((i,a)=>{t[a]=i instanceof Map||i instanceof Array?this.mapToObject(i):i}),t}formatResult(e){if(!(e instanceof this._pyodide.ffi.PyProxy))return e;let t=e.toJs();return this.mapToObject(t)}registerCallback(e){this._sendWorkerMessage=e}async setup(e){await this._initialized,this._kernel._parent_header=this._pyodide.toPy(e)}async execute(e,t){await this.setup(t);let i=(s,v,P)=>{let O={execution_count:s,data:this.formatResult(v),metadata:this.formatResult(P)};this._sendWorkerMessage({parentHeader:this.formatResult(this._kernel._parent_header).header,bundle:O,type:"execute_result"})},a=(s,v,P)=>{let O={ename:s,evalue:v,traceback:P};this._sendWorkerMessage({parentHeader:this.formatResult(this._kernel._parent_header).header,bundle:O,type:"execute_error"})},o=s=>{let v={wait:this.formatResult(s)};this._sendWorkerMessage({parentHeader:this.formatResult(this._kernel._parent_header).header,bundle:v,type:"clear_output"})},r=(s,v,P)=>{let O={data:this.formatResult(s),metadata:this.formatResult(v),transient:this.formatResult(P)};this._sendWorkerMessage({parentHeader:this.formatResult(this._kernel._parent_header).header,bundle:O,type:"display_data"})},l=(s,v,P)=>{let O={data:this.formatResult(s),metadata:this.formatResult(v),transient:this.formatResult(P)};this._sendWorkerMessage({parentHeader:this.formatResult(this._kernel._parent_header).header,bundle:O,type:"update_display_data"})},g=(s,v)=>{let P={name:this.formatResult(s),text:this.formatResult(v)};this._sendWorkerMessage({parentHeader:this.formatResult(this._kernel._parent_header).header,bundle:P,type:"stream"})};this._stdout_stream.publish_stream_callback=g,this._stderr_stream.publish_stream_callback=g,this._interpreter.display_pub.clear_output_callback=o,this._interpreter.display_pub.display_data_callback=r,this._interpreter.display_pub.update_display_data_callback=l,this._interpreter.displayhook.publish_execution_result=i,this._interpreter.input=this.input.bind(this),this._interpreter.getpass=this.getpass.bind(this);let f=await this._kernel.run(e.code),d=this.formatResult(f);return d.status==="error"&&a(d.ename,d.evalue,d.traceback),d}async complete(e,t){await this.setup(t);let i=this._kernel.complete(e.code,e.cursor_pos);return this.formatResult(i)}async inspect(e,t){await this.setup(t);let i=this._kernel.inspect(e.code,e.cursor_pos,e.detail_level);return this.formatResult(i)}async isComplete(e,t){await this.setup(t);let i=this._kernel.is_complete(e.code);return this.formatResult(i)}async commInfo(e,t){await this.setup(t);let i=this._kernel.comm_info(e.target_name);return{comms:this.formatResult(i),status:"ok"}}async commOpen(e,t){await this.setup(t);let i=this._kernel.comm_manager.comm_open(this._pyodide.toPy(null),this._pyodide.toPy(null),this._pyodide.toPy(e));return this.formatResult(i)}async commMsg(e,t){await this.setup(t);let i=this._kernel.comm_manager.comm_msg(this._pyodide.toPy(null),this._pyodide.toPy(null),this._pyodide.toPy(e));return this.formatResult(i)}async commClose(e,t){await this.setup(t);let i=this._kernel.comm_manager.comm_close(this._pyodide.toPy(null),this._pyodide.toPy(null),this._pyodide.toPy(e));return this.formatResult(i)}async inputReply(e,t){await this.setup(t),this._resolveInputReply(e)}async sendInputRequest(e,t){let i={prompt:e,password:t};this._sendWorkerMessage({type:"input_request",parentHeader:this.formatResult(this._kernel._parent_header).header,content:i})}async getpass(e){return e=typeof e>"u"?"":e,await this.sendInputRequest(e,!0),(await new Promise(a=>{this._resolveInputReply=a})).value}input(e){return e=typeof e>"u"?"":e,this.sendInputRequest(e,!1),this.syncMessaging.wait()}async sendComm(e,t,i,a,o){this._sendWorkerMessage({type:e,content:this.formatResult(t),metadata:this.formatResult(i),ident:this.formatResult(a),buffers:this.formatResult(o),parentHeader:this.formatResult(this._kernel._parent_header).header})}};var Oi=oe(Pi()),ft=require("worker_threads");var dn=new TextDecoder("utf8"),Si=new Uint8Array(256),Be=class{constructor({sharedCtrlBuffer:e,sharedValueBuffer:t}){this.ctrlBuffer=new Int32Array(e),this.valueBuffer=new Int32Array(t)}wait(){let e=this.ctrlWait();for(let i=0;i<e;i++)Si[i]=Atomics.load(this.valueBuffer,i);let t=dn.decode(Si.slice(0,e));return console.error("wait",t),t}ctrlWait(){return Atomics.store(this.ctrlBuffer,0,0),Atomics.wait(this.ctrlBuffer,0,0),this.ctrlBuffer[0]}};var We=class extends $e{async initFilesystem(e){if(e.mountDrive&&this._localPath){let{FS:t}=this._pyodide,i=this._localPath;t.mkdirTree(i),t.mount(t.filesystems.NODEFS,{root:i},i),this._driveFS=t.filesystems.NODEFS}}};ft.parentPort.once("message",n=>{let e=new We(new Be(n));(0,ji.expose)(e,(0,Oi.default)(ft.parentPort))});0&&(module.exports={PyodideComlinkKernel});
/*! Bundled license information:

comlink/dist/umd/comlink.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   * SPDX-License-Identifier: Apache-2.0
   *)

comlink/dist/umd/node-adapter.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   * SPDX-License-Identifier: Apache-2.0
   *)
*/
//# sourceMappingURL=comlink.worker.js.map
